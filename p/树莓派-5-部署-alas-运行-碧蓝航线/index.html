<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½² ALASï¼Œä»¥è¿è¡Œã€Šç¢§è“èˆªçº¿ã€‹çš„æ­¥éª¤ä¸æ³¨æ„äº‹é¡¹ã€‚"><title>æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS è¿è¡Œ ç¢§è“èˆªçº¿</title><link rel=canonical href=https://shaddocknh3.github.io/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/><link rel=stylesheet href=/scss/style.min.67c9a2c7613a67715934f644e7f7572d7547e6db7248003a37282f88312acf4f.css><meta property='og:title' content="æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS è¿è¡Œ ç¢§è“èˆªçº¿"><meta property='og:description' content="åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½² ALASï¼Œä»¥è¿è¡Œã€Šç¢§è“èˆªçº¿ã€‹çš„æ­¥éª¤ä¸æ³¨æ„äº‹é¡¹ã€‚"><meta property='og:url' content='https://shaddocknh3.github.io/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/'><meta property='og:site_name' content='ShaddockNH3'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='æ ‘è“æ´¾'><meta property='article:tag' content='ALAS'><meta property='article:tag' content='ç¢§è“èˆªçº¿'><meta property='article:tag' content='æ•™ç¨‹'><meta property='article:published_time' content='2025-12-14T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-14T00:00:00+00:00'><meta property='og:image' content='https://shaddocknh3.github.io/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image.png'><meta name=twitter:title content="æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS è¿è¡Œ ç¢§è“èˆªçº¿"><meta name=twitter:description content="åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½² ALASï¼Œä»¥è¿è¡Œã€Šç¢§è“èˆªçº¿ã€‹çš„æ­¥éª¤ä¸æ³¨æ„äº‹é¡¹ã€‚"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://shaddocknh3.github.io/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image.png'><link rel="shortcut icon" href=/favicon.png><style>#splash-screen{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;opacity:1;transition:opacity 1s ease-out;overflow:hidden}#splash-screen::before{content:'';position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px;background-image:var(--splash-bg-image);background-size:cover;background-position:50%;background-repeat:no-repeat;filter:blur(30px)brightness(.7);transform:scale(1.1);z-index:-1}#splash-screen::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.3);z-index:-1}#splash-screen.fade-out{opacity:0;pointer-events:none}.splash-content{display:flex;flex-direction:column;align-items:center;gap:2rem;animation:fadeInUp 1s ease-out;position:relative;z-index:1}#splash-image{max-width:500px;max-height:500px;width:85vw;height:auto;object-fit:contain;border-radius:20px;box-shadow:0 25px 80px rgba(0,0,0,.5);animation:floatIn 1.2s ease-out}.splash-text{text-align:center;color:#fff;animation:fadeInUp 1.5s ease-out}.splash-title{font-size:3rem;font-weight:700;margin:0 0 .5rem;text-shadow:0 3px 15px rgba(0,0,0,.5);letter-spacing:2px}.splash-subtitle{font-size:1.2rem;font-weight:300;margin:0;opacity:.95;letter-spacing:1px;text-shadow:0 2px 10px rgba(0,0,0,.5)}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}@keyframes floatIn{0%{opacity:0;transform:translateY(-20px)scale(.9)}100%{opacity:1;transform:translateY(0)scale(1)}}@media(max-width:768px){.splash-title{font-size:2rem}.splash-subtitle{font-size:1rem}#splash-image{max-width:350px;max-height:350px}}body.splash-loading{overflow:hidden}html.splash-init body>*:not(script){visibility:hidden!important}html.splash-init body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eea 0%,#764ba2 25%,#f093fb 50%,#4facfe 75%,#00f2fe 100%);background-size:400% 400%;animation:gradientShift 8s ease infinite;z-index:9998;display:flex;justify-content:center;align-items:center}@keyframes gradientShift{0%{background-position:0}50%{background-position:100%}100%{background-position:0}}html.splash-init body::after{content:'';position:fixed;top:50%;left:50%;margin:-25px 0 0 -25px;width:50px;height:50px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;z-index:9999}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}</style><script>(function(){const e=window.location.pathname==="/"||window.location.pathname==="/index.html",t=sessionStorage.getItem("splashShown");e&&!t&&document.documentElement.classList.add("splash-init")})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_45e5e263b8aec49d.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>ShaddockNH3</a></h1><h2 class=site-description>Just a humble and obscure soul, dreaming of ascending to prominence while journeying along the path.</h2></div></header><ol class=menu-social><li><a href=https://github.com/ShaddockNH3 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>å‹æƒ…é“¾æ¥</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://shaddocknh3.github.io/ selected>ç®€ä½“ä¸­æ–‡</option><option value=https://shaddocknh3.github.io/en/>English</option><option value=https://shaddocknh3.github.io/ja/>æ—¥æœ¬èª</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#æ›´æ–°æ—¥å¿—>æ›´æ–°æ—¥å¿—</a></li><li><a href=#ä¸€å‰è¨€>ä¸€ã€å‰è¨€</a></li><li><a href=#äºŒç¯å¢ƒå‡†å¤‡>äºŒã€ç¯å¢ƒå‡†å¤‡</a><ol><li><a href=#21-arm-å®‰å“ç¯å¢ƒ>2.1 ARM å®‰å“ç¯å¢ƒ</a></li><li><a href=#22-ç³»ç»Ÿç‰ˆæœ¬>2.2 ç³»ç»Ÿç‰ˆæœ¬</a></li><li><a href=#23-ç³»ç»Ÿé…ç½®>2.3 ç³»ç»Ÿé…ç½®</a><ol><li><a href=#å†…æ ¸å‚æ•°è°ƒæ•´>å†…æ ¸å‚æ•°è°ƒæ•´</a></li><li><a href=#å†…å­˜ä¸äº¤æ¢ç©ºé—´ä¼˜åŒ–>å†…å­˜ä¸äº¤æ¢ç©ºé—´ä¼˜åŒ–</a></li><li><a href=#ä¿®å¤å®‰å“ç½‘ç»œæ£€æµ‹>ä¿®å¤å®‰å“ç½‘ç»œæ£€æµ‹</a></li></ol></li></ol></li><li><a href=#ä¸‰å®‰è£…ç¢§è“èˆªçº¿>ä¸‰ã€å®‰è£…ç¢§è“èˆªçº¿</a></li><li><a href=#å››éƒ¨ç½²-alas>å››ã€éƒ¨ç½² ALAS</a><ol><li><a href=#41-åŸºç¡€é…ç½®>4.1 åŸºç¡€é…ç½®</a></li><li><a href=#42-é’ˆå¯¹-arm64-ä¿®æ”¹ä¾èµ–>4.2 é’ˆå¯¹ arm64 ä¿®æ”¹ä¾èµ–</a></li><li><a href=#43-è§£å†³åº“çš„æ›´æ–°é—®é¢˜>4.3 è§£å†³åº“çš„æ›´æ–°é—®é¢˜</a></li><li><a href=#44-è§£å†³æ ¸å¿ƒåº“çš„å…¼å®¹æ€§é—®é¢˜>4.4 è§£å†³æ ¸å¿ƒåº“çš„å…¼å®¹æ€§é—®é¢˜</a></li><li><a href=#45-é¦–æ¬¡è¿è¡Œä¸-adb-æˆæƒ>4.5 é¦–æ¬¡è¿è¡Œä¸ ADB æˆæƒ</a></li><li><a href=#46-so-å…¼å®¹æ€§é—®é¢˜>4.6 so å…¼å®¹æ€§é—®é¢˜</a><ol><li><a href=#è½¯é“¾æ¥>è½¯é“¾æ¥</a></li><li><a href=#æ¢ç´¢è§£å†³æ–¹æ¡ˆ>æ¢ç´¢è§£å†³æ–¹æ¡ˆ</a></li></ol></li><li><a href=#47-åŸºäº-ld_preload-çš„ä¾èµ–æ³¨å…¥>4.7 åŸºäº LD_PRELOAD çš„ä¾èµ–æ³¨å…¥</a><ol><li><a href=#1-è§£å†³æ€è·¯>1. è§£å†³æ€è·¯</a></li><li><a href=#2-ä¾èµ–åº“çš„æå–>2. ä¾èµ–åº“çš„æå–</a></li><li><a href=#3-æ„å»ºç§æœ‰åº“ç¯å¢ƒ>3. æ„å»ºç§æœ‰åº“ç¯å¢ƒ</a></li><li><a href=#4-å¯åŠ¨è„šæœ¬>4. å¯åŠ¨è„šæœ¬</a></li></ol></li><li><a href=#48-æµ·å›¾è¯†åˆ«é—®é¢˜>4.8 æµ·å›¾è¯†åˆ«é—®é¢˜</a><ol><li><a href=#ç®€å•å°è¯•>ç®€å•å°è¯•</a></li><li><a href=#å°è¯•å®¹å™¨>å°è¯•å®¹å™¨</a></li><li><a href=#æ„å»º-docker-ç¯å¢ƒ>æ„å»º Docker ç¯å¢ƒ</a></li></ol></li><li><a href=#49-å¦ä¸€ç§æ–¹å‘çš„æ€è€ƒ>4.9 å¦ä¸€ç§æ–¹å‘çš„æ€è€ƒ</a></li><li><a href=#410-ä¿®æ”¹æºç è§£å†³æµ·å›¾è¯†åˆ«é—®é¢˜æœ‰æ¼æ´>4.10 ä¿®æ”¹æºç è§£å†³æµ·å›¾è¯†åˆ«é—®é¢˜ï¼ˆæœ‰æ¼æ´ï¼‰</a><ol><li><a href=#1-å›ºå®š-opencv-python-headless-ç‰ˆæœ¬>1. å›ºå®š opencv-python-headless ç‰ˆæœ¬</a></li><li><a href=#2-ä¿®æ”¹-alas-æºç >2. ä¿®æ”¹ ALAS æºç </a></li></ol></li><li><a href=#411-æ´»åŠ¨å›¾è¯†åˆ«é—®é¢˜ä¸è§£å†³20251220-æ–°å¢>4.11 æ´»åŠ¨å›¾è¯†åˆ«é—®é¢˜ä¸è§£å†³ï¼ˆ2025.12.20 æ–°å¢ï¼‰</a><ol><li><a href=#1-è¿˜åŸ>1. è¿˜åŸ</a></li><li><a href=#2-ä¿®æ”¹ä»£ç >2. ä¿®æ”¹ä»£ç </a></li></ol></li></ol></li><li><a href=#äº”è®¿é—®ä¸æ§åˆ¶>äº”ã€è®¿é—®ä¸æ§åˆ¶</a><ol><li><a href=#51-realvnc>5.1 realvnc</a></li><li><a href=#52-nomachine>5.2 NoMachine</a></li><li><a href=#53-rustdesk>5.3. RustDesk</a></li><li><a href=#54-é€šè¿‡åŠ å¯†-frp-è®¿é—®-alas-web-ç•Œé¢>5.4. é€šè¿‡åŠ å¯† frp è®¿é—® ALAS Web ç•Œé¢</a></li><li><a href=#55-æœ€ç»ˆæ•ˆæœ>5.5 æœ€ç»ˆæ•ˆæœ</a></li></ol></li><li><a href=#å…­æ€»ç»“ä¸å±•æœ›>å…­ã€æ€»ç»“ä¸å±•æœ›</a></li><li><a href=#ä¸ƒè‡´è°¢>ä¸ƒã€è‡´è°¢</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/><img src=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image_hu_3256be198fb69d23.png srcset="/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image_hu_3256be198fb69d23.png 800w, /p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image_hu_5ae854b78e7ba1fb.png 1600w" width=800 height=447 loading=lazy alt="Featured image of post æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS è¿è¡Œ ç¢§è“èˆªçº¿"></a></div><div class=article-details><header class=article-category><a href=/categories/%E6%95%99%E7%A8%8B/>æ•™ç¨‹</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/>æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS è¿è¡Œ ç¢§è“èˆªçº¿</a></h2><h3 class=article-subtitle>åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½² ALASï¼Œä»¥è¿è¡Œã€Šç¢§è“èˆªçº¿ã€‹çš„æ­¥éª¤ä¸æ³¨æ„äº‹é¡¹ã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-12-14T00:00:00Z>Dec 14, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 17 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><div class=iiia-badge style="display:inline-flex;align-items:center;gap:12px;padding:14px 20px;background:linear-gradient(135deg,#D9A29525 0%,#D9A29510 100%);border:2px solid #d9a295;border-radius:12px;margin:20px 0;font-family:-apple-system,BlinkMacSystemFont,segoe ui,helvetica neue,Arial,sans-serif;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,.15)"><div class=iiia-icon style=position:relative;width:48px;height:48px;flex-shrink:0><svg width="48" height="48" viewBox="0 0 48 48" style="filter:drop-shadow(0 2px 4px #D9A29560)"><path d="M24 8c-6 0-10 4-10 10 0 2 .5 3.5 1 5-2 1-3 3-3 5 0 3 2 5 5 6 0 2 1 4 3 5s4 1 4 1 2 0 4-1 3-3 3-5c3-1 5-3 5-6 0-2-1-4-3-5 .5-1.5 1-3 1-5 0-6-4-10-10-10z" fill="none" stroke="#D9A295" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 15q2 2 4 0t4 0" fill="none" stroke="#D9A295" stroke-width="2.5" stroke-linecap="round"/><path d="M18 22q2 2 4 0" fill="none" stroke="#D9A295" stroke-width="2.5" stroke-linecap="round"/><path d="M26 22q2 2 4 0" fill="none" stroke="#D9A295" stroke-width="2.5" stroke-linecap="round"/><path d="M20 29q2 2 4 0t4 0" fill="none" stroke="#D9A295" stroke-width="2.5" stroke-linecap="round"/><line x1="24" y1="12" x2="24" y2="36" stroke="#D9A295" stroke-width="2" stroke-dasharray="2,2" opacity=".6"/></svg><div style="position:absolute;bottom:-4px;right:-4px;width:26px;height:26px;background:#d9a295;border:2.5px solid var(--card-background,#fff);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.3);line-height:1;padding-top:1px">1</div></div><div class=iiia-content style=flex:1;min-width:0><div style=display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap><span style="font-weight:700;font-size:17px;color:#d9a295;letter-spacing:.5px;text-shadow:0 1px 2px rgba(0,0,0,.1)">IIIA 1
</span><span class=iiia-category style="font-size:12px;color:var(--card-text-color-tertiary,#666);background:#d9a29520;padding:3px 10px;border-radius:6px;font-weight:500;border:1px solid #d9a29530">æœªç»AIåˆ¶ä½œ</span></div><div class=iiia-description style=font-size:14px;color:var(--card-text-color-secondary,#666);line-height:1.5;opacity:.95>AIä»…æä¾›å‚è€ƒï¼Œæœªå‚ä¸åˆ¶ä½œ</div></div><a href=https://ersansan233.github.io/IIIA/ target=_blank rel="noopener noreferrer" title=äº†è§£æ›´å¤šå…³äºAIå‚ä¸æŒ‡æ•° class=iiia-info-link style="width:22px;height:22px;border-radius:50%;background:#d9a29530;color:#d9a295;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;text-decoration:none;transition:all .2s;flex-shrink:0;border:1.5px solid #d9a29550" onmouseover='this.style.background="#D9A295",this.style.color="white",this.style.transform="scale(1.1)"' onmouseout='this.style.background="#D9A29530",this.style.color="#D9A295",this.style.transform="scale(1)"'>?</a></div><style>.iiia-badge{transition:transform .2s ease,box-shadow .2s ease}.iiia-badge:hover{transform:translateY(-2px);box-shadow:0 4px 12px #D9A29530}</style><h2 id=æ›´æ–°æ—¥å¿—>æ›´æ–°æ—¥å¿—</h2><ul><li>2026.02.04ï¼šäºŒæ¬¡ä¼˜åŒ–è¡¨è¾¾</li><li>2025.12.20ï¼šæ­¤å‰çš„æºç ä¿®æ”¹æ–¹æ¡ˆå­˜åœ¨è¯¯åŒºï¼Œæœ¬æ¬¡æ›´æ–°æä¾›ä¸€ä¸ª<strong>æ›´åº•å±‚çš„ ALAS æºç ä¿®æ­£æ–¹æ¡ˆ</strong>ï¼Œå½»åº•è§£å†³ OpenCV matchTemplate</li><li>2025.12.15-2025.12.17ï¼šå¯¹åšå®¢çš„æ•´ä½“è¡¨è¾¾ã€æµç¨‹æè¿°åŠæŠ€æœ¯ç»†èŠ‚è¿›è¡Œäº†æ¢³ç†ä¸ä¼˜åŒ–ï¼Œä½¿å…¶æ›´æ˜“äºç†è§£å’Œå®è·µ</li><li>2025.12.14ï¼šåšå®¢åˆç¨¿å‘å¸ƒï¼Œè®°å½•æ ‘è“æ´¾ 5 éƒ¨ç½² ALAS çš„åˆæ­¥æ¢ç´¢å’ŒåŸºç¡€ç¯å¢ƒæ­å»º</li></ul><h2 id=ä¸€å‰è¨€>ä¸€ã€å‰è¨€</h2><p>éšç€è€ƒç ”ä¸´è¿‘ï¼Œå­¦ä¸šå‹åŠ›å˜å¤§ï¼Œé«˜æ•ˆåˆ†é…æ—¶é—´æˆäº†å½“åŠ¡ä¹‹æ€¥ã€‚</p><p>æˆ‘ä¸»è¦ç”¨è”æƒ³å°æ–° 13 æ¥å­¦ä¹ ï¼Œå› ä¸ºæœ‰ Go è¯­è¨€å¼€å‘éœ€æ±‚ï¼Œå¿…é¡»å¼€å¯ WSL å’Œ Hyper-Vã€‚è¿™å°±å¸¦æ¥ä¸€ä¸ªçŸ›ç›¾ï¼šåœ¨ Hyper-V æ¨¡å¼ä¸‹ï¼Œå®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆå¦‚ MuMuï¼‰è·‘ç¢§è“èˆªçº¿éå¸¸å¡ã€‚</p><p>ALAS è¿è¡Œéœ€è¦ 7x24 å°æ—¶ï¼Œè¿™æ„å‘³ç€æ—¶åˆ»ä¼šå ç”¨ç”µè„‘èµ„æºã€‚</p><p>æ°å·§æ‰‹å¤´æœ‰ä¸€å° SRTP å‰©ä¸‹æ¥çš„æ ‘è“æ´¾ 5ï¼Œå®ƒçš„æ€§èƒ½ä¸é”™ï¼ŒåŠŸè€—æä½ï¼Œå®Œç¾å¥‘åˆæˆ‘çš„æŒ‚æœºéœ€æ±‚ã€‚</p><p>è¿™ç¯‡åšå®¢ä¸»è¦è®°å½•å¦‚ä½•åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½² ALAS å¹¶è¿è¡Œç¢§è“èˆªçº¿ï¼Œå¸Œæœ›èƒ½ç»™æœ‰ç±»ä¼¼éœ€æ±‚çš„æŒ‡æŒ¥å®˜åšä¸ªå‚è€ƒã€‚</p><p><img src=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/93bb5537f5e589594a75a0e4b8f171a2_720.jpg width=650 height=650 srcset="/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/93bb5537f5e589594a75a0e4b8f171a2_720_hu_9cb75a6b4e68def5.jpg 480w, /p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/93bb5537f5e589594a75a0e4b8f171a2_720_hu_690628b70922c705.jpg 1024w" loading=lazy alt=pipi5 class=gallery-image data-flex-grow=100 data-flex-basis=240px></p><h2 id=äºŒç¯å¢ƒå‡†å¤‡>äºŒã€ç¯å¢ƒå‡†å¤‡</h2><h3 id=21-arm-å®‰å“ç¯å¢ƒ>2.1 ARM å®‰å“ç¯å¢ƒ</h3><p>æ ‘è“æ´¾ 5 é‡‡ç”¨çš„æ˜¯ arm64 æ¶æ„ï¼ŒWaydroid å¯ä»¥åœ¨ Linux ç³»ç»Ÿä¸ŠåŸºäºåŸç”Ÿè¿è¡Œå®‰å“ç³»ç»Ÿã€‚</p><p>ç›¸æ¯”åœ¨ Windows è¿è¡Œæ¨¡æ‹Ÿå™¨ï¼Œé¿å… x86 æŒ‡ä»¤é›†è½¬è¯‘ã€‚</p><h3 id=22-ç³»ç»Ÿç‰ˆæœ¬>2.2 ç³»ç»Ÿç‰ˆæœ¬</h3><p>å®˜æ–¹æ¨èçš„æ ‘è“æ´¾ 5 ç‰ˆæœ¬æ˜¯ Debian 13ã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¸€å¼€å§‹ä¹Ÿç›´æ¥ä½¿ç”¨ Debian 13ï¼Œåç»­åœ¨é…ç½®ç¢°åˆ°ç“¶é¢ˆçš„æ—¶å€™æ‰æƒ³ç€æ¢ç³»ç»Ÿï¼Œæ‰æœ‰äº†ä»¥ä¸‹æ€è€ƒã€‚</p><p>ALAS å®˜æ–¹æ–‡æ¡£æ¨èçš„æ˜¯ Debian 11ï¼Œæ ‘è“æ´¾ 5 å·²ç»ä¸å†æ”¯æŒï¼Œé‚æ”¾å¼ƒã€‚</p><p>åœ¨ Debian 12 ç¯å¢ƒä¸‹å®‰è£… Waydroid å­˜åœ¨ä¾èµ–ç¼ºå¤±é—®é¢˜ï¼Œç¨å¾®å°è¯•åæ”¾å¼ƒã€‚</p><h3 id=23-ç³»ç»Ÿé…ç½®>2.3 ç³»ç»Ÿé…ç½®</h3><h4 id=å†…æ ¸å‚æ•°è°ƒæ•´>å†…æ ¸å‚æ•°è°ƒæ•´</h4><p>æ­¤é¡¹è°ƒæ•´åŸå› å¦‚ä¸‹ï¼š</p><ul><li>å†…å­˜é¡µå¤§å°ï¼šæ ‘è“æ´¾5å®˜æ–¹ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ 16KB å†…å­˜é¡µï¼Œè€Œå®‰å“ç³»ç»Ÿæ ‡å‡†ä¸º 4KBã€‚</li><li>å‹åŠ›é˜»å¡ä¿¡æ¯ï¼šå®‰å“ç³»ç»Ÿä¾èµ–å†…æ ¸çš„ PSI ç‰¹æ€§æ¥è¿›è¡Œèµ„æºç®¡ç†ã€‚</li></ul><p>ä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ï¼Œéœ€è¦ sudo æƒé™ï¼š</p><ol><li><p>ç¼–è¾‘ /boot/firmware/config.txt æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ä¸€è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>kernel</span><span class=o>=</span>kernel8.img
</span></span></code></pre></td></tr></table></div></div></li><li><p>ç¼–è¾‘ /boot/firmware/cmdline.txt æ–‡ä»¶ï¼Œåœ¨ç°æœ‰å†…å®¹çš„æœ«å°¾<strong>æ·»åŠ ä¸€ä¸ªç©ºæ ¼</strong>åï¼Œå†è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>psi</span><span class=o>=</span><span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>ä¿®æ”¹å®Œæ¯•åï¼Œéœ€è¦é‡å¯æ ‘è“æ´¾ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><blockquote><p>å‚è€ƒï¼š<a class=link href=https://www.bilibili.com/opus/1066436733207314435 target=_blank rel=noopener>æ ‘è“æ´¾5 raspbian ä½¿ç”¨ waydroid</a></p></blockquote><h4 id=å†…å­˜ä¸äº¤æ¢ç©ºé—´ä¼˜åŒ–>å†…å­˜ä¸äº¤æ¢ç©ºé—´ä¼˜åŒ–</h4><p>ä¸ºäº†ä¿è¯é•¿æ—¶é—´ç¨³å®šè¿è¡Œï¼Œéœ€è¦ä¼˜åŒ–è™šæ‹Ÿå†…å­˜é…ç½®ï¼š</p><ol><li>ZRAM æ‰©å®¹ï¼šç¼–è¾‘ /etc/default/zramswap æ–‡ä»¶ï¼Œä¿®æ”¹å‹ç¼©ç®—æ³•ä¸º zstd å¹¶å°†å¯ç”¨æ¯”ä¾‹è®¾ç½®ä¸º 100%ï¼Œä»¥æå‡å†…å­˜äº¤æ¢æ•ˆç‡ã€‚</li><li>æ·»åŠ  Swap æ–‡ä»¶ï¼šåˆ›å»ºä¸€ä¸ª 8GB å¤§å°çš„ç‰©ç†äº¤æ¢æ–‡ä»¶ï¼ˆä¾‹å¦‚ /swapfileï¼‰å¹¶æŒ‚è½½ï¼Œä½œä¸ºç‰©ç†å†…å­˜ä¸è¶³æ—¶çš„è¡¥å……ã€‚</li></ol><h4 id=ä¿®å¤å®‰å“ç½‘ç»œæ£€æµ‹>ä¿®å¤å®‰å“ç½‘ç»œæ£€æµ‹</h4><p>Waydroid ä¸­çš„å®‰å“ç³»ç»Ÿé»˜è®¤ä¼šè¿æ¥ Google æœåŠ¡å™¨æ¥éªŒè¯ç½‘ç»œè¿é€šæ€§ã€‚åœ¨å›½å†…ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæ­¤è¿æ¥ä¼šå¤±è´¥ï¼Œå¯¼è‡´ç³»ç»Ÿåˆ¤å®šä¸ºâ€œæ–­ç½‘â€ï¼Œè¿›è€Œå¯èƒ½ä½¿æ¸¸æˆæ— æ³•æ­£å¸¸ä¸‹è½½æ•°æ®æˆ–ç™»å½•ã€‚</p><p>è§£å†³æ–¹æ¡ˆæ˜¯è¿›å…¥ Waydroid çš„ shell ç¯å¢ƒï¼Œå°†ç½‘ç»œæ£€æµ‹æœåŠ¡å™¨æ›´æ¢ä¸ºå›½å†…å¯ç”¨çš„åœ°å€ã€‚</p><p>åœ¨å¯åŠ¨ Waydroid å®¹å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>waydroid shell
</span></span><span class=line><span class=cl>settings put global captive_portal_http_url <span class=s2>&#34;http://connect.rom.miui.com/generate_204&#34;</span>
</span></span><span class=line><span class=cl>settings put global captive_portal_https_url <span class=s2>&#34;https://connect.rom.miui.com/generate_204&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œä»¥å°ç±³çš„æœåŠ¡å™¨ä¸ºä¾‹ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºåä¸ºç­‰å…¶ä»–å›½å†…å‚å•†çš„æœåŠ¡å™¨åœ°å€ã€‚</p><blockquote><p>ä¸­é—´å¯èƒ½ä¼šæœ‰é—æ¼çš„é—®é¢˜ï¼Œä¾‹å¦‚éœ€è¦é”æ­»åˆ†è¾¨ç‡ç­‰ã€‚</p></blockquote><h2 id=ä¸‰å®‰è£…ç¢§è“èˆªçº¿>ä¸‰ã€å®‰è£…ç¢§è“èˆªçº¿</h2><p>é€šè¿‡å®˜ç½‘è·å–å¯¹åº”çš„ç¢§è“èˆªçº¿å®‰è£…åŒ…ï¼Œç„¶åä½¿ç”¨ Waydroid è‡ªå¸¦çš„å‘½ä»¤å®‰è£…ç¢§è“èˆªçº¿ apkã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>waydroid app install &lt;ä½ çš„APKæ–‡ä»¶è·¯å¾„&gt;
</span></span></code></pre></td></tr></table></div></div><p>å®‰è£…å®Œæ¯•åæ‰“å¼€ç¢§è“èˆªçº¿ï¼Œä¸‹è½½èµ„æºåç™»å½•ã€‚</p><blockquote><p>äº‹å®ä¸Šï¼Œå½“ç™»å½•çš„æ—¶å€™æ‰ä¼šç¢°åˆ° ping é»˜è®¤è°·æ­Œçš„é—®é¢˜ã€‚</p></blockquote><h2 id=å››éƒ¨ç½²-alas>å››ã€éƒ¨ç½² ALAS</h2><p>åœ¨æ¸¸æˆå¯ä»¥è¿è¡Œåï¼Œå¼€å§‹éƒ¨ç½² ALASã€‚</p><h3 id=41-åŸºç¡€é…ç½®>4.1 åŸºç¡€é…ç½®</h3><p>é¦–å…ˆå‚ç…§ <a class=link href=https://ALAS-wiki.saarcenter.com/zh-CN/manual/install/linux.html target=_blank rel=noopener>ALAS å®˜æ–¹ Linux å®‰è£…æ–‡æ¡£</a> å®ŒæˆåŸºç¡€ç¯å¢ƒçš„å‡†å¤‡å·¥ä½œï¼Œä¾‹å¦‚å®‰è£… gitã€pythonï¼Œéšååˆ›å»ºè™šæ‹Ÿç¯å¢ƒç­‰ã€‚</p><h3 id=42-é’ˆå¯¹-arm64-ä¿®æ”¹ä¾èµ–>4.2 é’ˆå¯¹ arm64 ä¿®æ”¹ä¾èµ–</h3><p>å®˜æ–¹æ–‡æ¡£ä¸»è¦é’ˆå¯¹ x86ã€‚</p><p>å¯¹äº arm64ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£æä¾›çš„<a class=link href=https://www.binss.me/blog/run-azurlaneautoscript-on-arm64/ target=_blank rel=noopener>åšå®¢</a>ï¼Œå¯¹é¡¹ç›®çš„ä¾èµ–è¿›è¡Œä¿®æ”¹ã€‚</p><ol><li><p>ä¿®æ”¹ requirements.txt æ–‡ä»¶ï¼š
è¿›å…¥ ALAS ç›®å½•ï¼Œç¼–è¾‘ deploy/headless/requirements.txtï¼Œå°†å…¶ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>adbutils==0.11.0
</span></span><span class=line><span class=cl>scipy
</span></span><span class=line><span class=cl>pillow
</span></span><span class=line><span class=cl>opencv-python
</span></span><span class=line><span class=cl>imageio
</span></span><span class=line><span class=cl>lz4
</span></span><span class=line><span class=cl>tqdm
</span></span><span class=line><span class=cl>uiautomator2==2.16.7
</span></span><span class=line><span class=cl>retrying
</span></span><span class=line><span class=cl>cnocr==1.2.2
</span></span><span class=line><span class=cl>jellyfish
</span></span><span class=line><span class=cl>pyyaml
</span></span><span class=line><span class=cl>inflection
</span></span><span class=line><span class=cl>pywebio==1.5.2
</span></span><span class=line><span class=cl>starlette==0.14.2
</span></span><span class=line><span class=cl>anyio==1.3.1
</span></span><span class=line><span class=cl>uvicorn[standard]==0.17.6
</span></span><span class=line><span class=cl>aiofiles
</span></span><span class=line><span class=cl>wrapt==1.13.1
</span></span><span class=line><span class=cl>prettytable==2.2.1
</span></span><span class=line><span class=cl>pypresence==4.2.1
</span></span><span class=line><span class=cl>ALAS-webapp==0.3.7
</span></span><span class=line><span class=cl>rich==11.0.0
</span></span><span class=line><span class=cl>zerorpc
</span></span><span class=line><span class=cl>atomicwrites
</span></span></code></pre></td></tr></table></div></div></li><li><p>å®‰è£…ä¾èµ–ï¼š
åœ¨ ALAS çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½¿ç”¨ä¿®æ”¹åçš„æ–‡ä»¶å®‰è£…ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install -r deploy/headless/requirements.txt
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=43-è§£å†³åº“çš„æ›´æ–°é—®é¢˜>4.3 è§£å†³åº“çš„æ›´æ–°é—®é¢˜</h3><p>æ‰‹åŠ¨è¡¥å……ä¾èµ–é¡¹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install <span class=nv>uiautomator2cache</span><span class=o>==</span>0.3.0.1
</span></span><span class=line><span class=cl>pip install <span class=nv>pydantic</span><span class=o>==</span>1.10.9
</span></span><span class=line><span class=cl>pip install <span class=nv>onepush</span><span class=o>==</span>1.4.0
</span></span></code></pre></td></tr></table></div></div><p>ALAS çš„ Web UI ä¾èµ–äº pywebioï¼Œéœ€æ›´æ–°è¯¥åº“ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip uninstall pywebio
</span></span><span class=line><span class=cl>pip install <span class=nv>pywebio</span><span class=o>==</span>1.6.2
</span></span></code></pre></td></tr></table></div></div><h3 id=44-è§£å†³æ ¸å¿ƒåº“çš„å…¼å®¹æ€§é—®é¢˜>4.4 è§£å†³æ ¸å¿ƒåº“çš„å…¼å®¹æ€§é—®é¢˜</h3><p>éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œopencv-python å’Œ mxnet å…·æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œå…¶ä¸­åè€…å®˜æ–¹æä¾›çš„åšå®¢ä¸­å·²æœ‰è§£å†³æ–¹æ¡ˆã€‚</p><ol><li><p>æ›¿æ¢ opencv-pythonï¼š
åŸä¾èµ–æŒ‡å®šçš„æ˜¯ opencv-pythonï¼Œæ›¿æ¢ä¸ºæ— å¤´ç‰ˆæœ¬ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip uninstall opencv-python
</span></span><span class=line><span class=cl>pip install opencv-python-headless<span class=o>==</span>4.7.0.72
</span></span></code></pre></td></tr></table></div></div></li><li><p>æ‰‹åŠ¨å®‰è£… mxnetï¼š
cnocr ä¾èµ–çš„ mxnet æ²¡æœ‰æä¾›å®˜æ–¹çš„ arm64 pip åŒ…ã€‚éœ€è¦æ‰‹åŠ¨å®‰è£…ã€‚</p><ul><li><p>å®‰è£… .whl æ–‡ä»¶ã€‚ä¸‹è½½ç¤¾åŒºæä¾›çš„ mxnet-1.9.1-py3-none-any.whlï¼Œä½¿ç”¨ pip install mxnet-1.9.1-py3-none-any.whl å®‰è£…ã€‚</p></li><li><p>ç§»åŠ¨ .soã€‚å®‰è£…åï¼Œ.so è¢«å®‰è£…åœ¨äº† alas-venv/mxnet/ ç›®å½•ä¸‹ã€‚éœ€è¦æ‰‹åŠ¨å°†æ–‡ä»¶ç§»åŠ¨åˆ° Python ç¯å¢ƒçš„åŒ…è·¯å¾„ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mv ALAS-venv/mxnet/*.so ALAS_venv/lib/python3.8/site-packages/mxnet/
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h3 id=45-é¦–æ¬¡è¿è¡Œä¸-adb-æˆæƒ>4.5 é¦–æ¬¡è¿è¡Œä¸ ADB æˆæƒ</h3><p>å®Œæˆæ‰€æœ‰ä¾èµ–çš„å®‰è£…å’Œä¿®å¤åï¼Œä¾¿å¯ä»¥å°è¯•å¯åŠ¨ ALASã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python gui.py
</span></span></code></pre></td></tr></table></div></div><p>åœ¨é¦–æ¬¡è¿è¡Œæ—¶ï¼ŒALAS ä¼šé€šè¿‡ adb è¿æ¥åˆ° Waydroidã€‚æ­¤æ—¶ï¼ŒWaydroid ä¼šå¼¹å‡ºä¸€ä¸ª <strong>USB è°ƒè¯•æˆæƒè¯·æ±‚</strong>ã€‚éœ€è¦è¿›å…¥è¿›å…¥å›¾å½¢åŒ–ç•Œé¢ç‚¹å‡»å…è®¸ã€‚</p><p>æˆåŠŸæˆæƒåï¼ŒALAS å°±è·å–äº†æ§åˆ¶å®‰å“ç•Œé¢çš„èƒ½åŠ›ï¼Œå¯ä»¥æ‰§è¡Œç‚¹å‡»ã€æˆªå›¾ç­‰æ“ä½œã€‚</p><p>è‡³æ­¤ï¼ŒALAS éƒ¨ç½²å·¥ä½œåŸºæœ¬å®Œæˆã€‚</p><blockquote><p>å»ºç«‹ adb çš„è¿‡ç¨‹å¯èƒ½éœ€è¦é…ç½®å¯†é’¥ï¼Œåœ¨æ­¤ä¸è¡¨ã€‚</p></blockquote><h3 id=46-so-å…¼å®¹æ€§é—®é¢˜>4.6 so å…¼å®¹æ€§é—®é¢˜</h3><p>åœ¨ ALAS æˆåŠŸè¿æ¥å¹¶å¯ä»¥â€œç‚¹å‡»â€æ¸¸æˆç•Œé¢åï¼Œæˆ‘ä»¬å¾ˆå¿«é‡åˆ°äº†ä¸€ä¸ªçš„éšœç¢ï¼š<strong>ALAS æ— æ³•æ‰§è¡Œæ»‘åŠ¨æ“ä½œ</strong>ã€‚ç»è¿‡æ’æŸ¥ï¼Œé—®é¢˜æŒ‡å‘ .so çš„ç‰ˆæœ¬å…¼å®¹ã€‚</p><p>ALAS çš„éƒ¨åˆ†åº•å±‚æ¨¡å—ä¾èµ–äºä¸º Debian 11ï¼Œè€Œè¿è¡Œç¯å¢ƒæ˜¯ Debian 13ã€‚</p><h4 id=è½¯é“¾æ¥>è½¯é“¾æ¥</h4><p>é¦–å…ˆå°è¯•åˆ›å»ºè½¯é“¾æ¥ï¼Œè¯•å›¾æ¬ºéª—ç¨‹åºè®©å®ƒæ‰¾åˆ°ä¸€ä¸ªçœ‹ä¼¼ç‰ˆæœ¬åŒ¹é…çš„åº“æ–‡ä»¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo ln -s /usr/lib/aarch64-linux-gnu/libopenblas.so.0 /usr/lib/aarch64-linux-gnu/libcblas.so.3
</span></span><span class=line><span class=cl>sudo ln -s /usr/lib/aarch64-linux-gnu/libopencv_imgproc.so.4.10.0 /usr/lib/aarch64-linux-gnu/libopencv_imgproc.so.4.5
</span></span><span class=line><span class=cl>sudo ln -s /usr/lib/aarch64-linux-gnu/libopencv_core.so.4.10.0 /usr/lib/aarch64-linux-gnu/libopencv_core.so.4.5
</span></span><span class=line><span class=cl>sudo ln -s /usr/lib/aarch64-linux-gnu/libopencv_highgui.so.4.10.0 /usr/lib/aarch64-linux-gnu/libopencv_highgui.so.4.5
</span></span></code></pre></td></tr></table></div></div><p>è¿™ç§å¼ºè¡Œé‡å‘½åçš„æ–¹å¼ç¡®å®è§£å†³äº†æ»‘åŠ¨é—®é¢˜ï¼Œä½†å¾ˆå¿«å¼•å‘äº†æ–°çš„çš„é”™è¯¯ã€‚åœ¨è¿›è¡Œå›¾åƒè¯†åˆ«ï¼ˆæµ·å›¾è¯†åˆ«ï¼‰æ—¶ï¼Œç¨‹åºæŠ›å‡ºåº•å±‚ C++ æ–­è¨€å¤±è´¥çš„é”™è¯¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>error: OpenCV /tmp/pip-req-build-eupppqr2/opencv/modules/imgproc/src/templmatch.cpp:1163: error:        
</span></span><span class=line><span class=cl><span class=o>(</span>-215:Assertion failed<span class=o>)</span> <span class=o>(</span><span class=nv>depth</span> <span class=o>==</span> CV_8U <span class=o>||</span> <span class=nv>depth</span> <span class=o>==</span> CV_32F<span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=nb>type</span> <span class=o>==</span> _templ.type<span class=o>()</span> <span class=o>&amp;&amp;</span>   
</span></span><span class=line><span class=cl>_img.dims<span class=o>()</span> &lt;<span class=o>=</span> <span class=m>2</span> in <span class=k>function</span> <span class=s1>&#39;matchTemplate&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™è¡¨æ˜åº“æ–‡ä»¶çš„å†…éƒ¨å®ç°å·²ä¸å…¼å®¹ï¼Œå•çº¯ä¿®æ”¹æ–‡ä»¶åæ˜¯è¡Œä¸é€šçš„ã€‚åœ¨æ’¤é”€è½¯é“¾æ¥åï¼Œæ„è¯†åˆ°å¿…é¡»ä»æ ¹æœ¬ä¸Šè§£å†³ç¯å¢ƒä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p>åœ¨æ­¤ä¹‹åï¼Œå°è¯•ç›´æ¥æŠŠéœ€è¦çš„ç³»ç»Ÿä¾èµ–åŒ…ä» Debian 11 ä¸Šä¸‹è½½å¹¶å®‰è£…åˆ° Debian 13 ä¸Šï¼Œä½†å¯¼è‡´äº†ä¾èµ–åœ°ç‹±ã€‚</p><p>ç³»ç»Ÿæ ¸å¿ƒåº“ libc å‡ºç°å´©æºƒï¼Œç³»ç»Ÿå˜å¾—ä¸ç¨³å®šã€‚</p><p>ä¸”éœ€è¦çš„æ—§ç‰ˆåº“æ–‡ä»¶ä¼—å¤šï¼Œæ‰‹åŠ¨ç®¡ç†æä¸ºç¹çï¼Œå› æ­¤è¿™ä¸€æ–¹æ¡ˆä¹Ÿè¢«æ”¾å¼ƒã€‚</p><h4 id=æ¢ç´¢è§£å†³æ–¹æ¡ˆ>æ¢ç´¢è§£å†³æ–¹æ¡ˆ</h4><p>ç»è¿‡ä»”ç»†åˆ†æï¼Œæˆ‘ä»¬æ„æƒ³å‡ºä¸‰æ¡å¯è¡Œçš„è§£å†³è·¯å¾„ï¼š</p><ol><li><p>å®¹å™¨ä¸­è¿è¡Œ ALASï¼š
ä¸º ALAS åˆ›å»ºä¸€ä¸ªçº¯å‡€çš„ Debian 11 è¿è¡Œç¯å¢ƒï¼Œé€šè¿‡ Docker å®ç°ã€‚</p></li><li><p>åœ¨ Debian 13 ä¸Šé‡æ–°ç¼–è¯‘ OpenCV 4.5ï¼š
åœ¨å½“å‰ç³»ç»Ÿé‡æ–°ç¼–è¯‘ ALAS æ‰€éœ€çš„æ—§ç‰ˆ OpenCV (4.5)ï¼Œä½¿å…¶é“¾æ¥åˆ° Debian 13 çš„æ–°ç‰ˆç³»ç»Ÿåº“ã€‚</p></li><li><p>ä½¿ç”¨ docker ä¸‹è½½ Debian 11 çš„æ—§ä¾èµ–åº“åå¤åˆ¶ç²˜è´´å…¥ Debian 13ï¼š
å°† ALAS åœ¨ Debian 11 ä¸Šæ‰€éœ€çš„æ‰€æœ‰æ—§ç‰ˆ .so æ–‡ä»¶ï¼ˆå¦‚ libavcodec58, libtbb2 ç­‰ï¼‰å…¨éƒ¨æå–å‡ºæ¥ï¼Œä¸ ALAS ç¨‹åºæ”¾åœ¨ä¸€èµ·ã€‚ç„¶åé€šè¿‡ LD_LIBRARY_PATH å¼ºåˆ¶ ALAS ä¼˜å…ˆåŠ è½½è¿™äº›æ‰“åŒ…å¥½çš„æ—§åº“ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿåº“ã€‚</p></li></ol><p>å¯¹äºæ–¹æ¡ˆ 1ï¼Œç›´æ¥ä½¿ç”¨ docker å›ºç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯ä¼šæŸå¤±ä¸€å®šçš„æ€§èƒ½ï¼›å¯¹äºæ–¹æ¡ˆ 2ï¼Œé‡æ–°ç¼–è¯‘éœ€è¦æ¶ˆè€—å¤§é‡çš„æ—¶é—´å’Œèµ„æºã€‚</p><p>å‡ ç»æ€è€ƒä¹‹ä¸‹ï¼Œæˆ‘ä»¬å†³å®šå…ˆå°è¯•æ–¹æ¡ˆ 3ï¼Œå³é€šè¿‡â€œç‹¸çŒ«æ¢å¤ªå­â€çš„æ–¹å¼ï¼Œå°† Debian 11 çš„æ—§ç‰ˆä¾èµ–åº“æ‰“åŒ…è¿› ALAS çš„è¿è¡Œç¯å¢ƒä¸­ï¼Œå¹¶é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥çš„æ–¹å¼å®ç°å…¼å®¹ã€‚</p><h3 id=47-åŸºäº-ld_preload-çš„ä¾èµ–æ³¨å…¥>4.7 åŸºäº LD_PRELOAD çš„ä¾èµ–æ³¨å…¥</h3><h4 id=1-è§£å†³æ€è·¯>1. è§£å†³æ€è·¯</h4><p>é‡‡ç”¨ä¸€ç§ <strong>æ²™ç›’åŒ–çš„ä¾èµ–ç®¡ç†</strong> ç­–ç•¥ã€‚å³ï¼Œä¸è§¦ç¢°ç³»ç»Ÿçº§çš„ /usr/lib ç›®å½•ï¼Œè€Œæ˜¯å°†ä» Debian 11 ç¯å¢ƒä¸­æå–çš„ .so é›†åˆï¼Œæ”¾å…¥ä¸€ä¸ªç§æœ‰ç›®å½• ~/ALAS/ALAS_libs ä¸­ã€‚</p><p>ç„¶åï¼Œé€šè¿‡è®¾ç½® LD_LIBRARY_PATH å’Œ LD_PRELOADï¼Œå¼ºåˆ¶ Python åœ¨è¿è¡Œæ—¶ï¼Œä¼˜å…ˆåŠ è½½æ—§ç‰ˆç§æœ‰åº“ï¼Œä»è€Œè§£å†³å…¼å®¹æ€§é—®é¢˜ã€‚</p><h4 id=2-ä¾èµ–åº“çš„æå–>2. ä¾èµ–åº“çš„æå–</h4><p>ä¸ºäº†ä¿è¯æ‰€æœ‰ .so æ–‡ä»¶çš„çº¯å‡€ä¸ç‰ˆæœ¬ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Dockerï¼Œåœ¨ x86 å®¿ä¸»æœºä¸Šé€šè¿‡ &ndash;platform å‚æ•°æ¨¡æ‹Ÿ arm64 æ¶æ„çš„ Debian 11 ç¯å¢ƒã€‚</p><p>æ“ä½œç¯å¢ƒï¼šä»»æ„å®‰è£…äº† Docker Desktop çš„ Windows / Mac / Linux ç³»ç»Ÿã€‚</p><p>åˆ›å»ºä¸€ä¸ªåä¸º extract_libs.sh çš„è„šæœ¬æ–‡ä»¶ï¼Œæˆ–ç›´æ¥åœ¨ç»ˆç«¯ä¸­é€è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆç¬¬ä¸€è¡Œå‘½ä»¤æ‰§è¡Œåä¼šè¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œåç»­å‘½ä»¤åœ¨å®¹å™¨å†…æ‰§è¡Œï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1. å¯åŠ¨ ARM64 æ¶æ„çš„ Debian 11 å®¹å™¨ï¼Œå¹¶æŒ‚è½½å½“å‰ç›®å½•ä¸‹çš„ ALAS_libs æ–‡ä»¶å¤¹ç”¨äºè¾“å‡º</span>
</span></span><span class=line><span class=cl>docker run --rm -it --platform linux/arm64 -v <span class=si>${</span><span class=nv>PWD</span><span class=si>}</span>/ALAS_libs:/output debian:bullseye bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- ä»¥ä¸‹å‘½ä»¤åœ¨å®¹å™¨å†…æ‰§è¡Œ ---</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. é…ç½®å®Œæ•´çš„ Debian 11 è½¯ä»¶æº (åŒ…å« contrib å’Œ non-free)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb http://deb.debian.org/debian bullseye main contrib non-free&#34;</span> &gt; /etc/apt/sources.list
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb http://deb.debian.org/debian bullseye-updates main contrib non-free&#34;</span> &gt;&gt; /etc/apt/sources.list
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb http://deb.debian.org/debian-security bullseye-security main contrib non-free&#34;</span> &gt;&gt; /etc/apt/sources.list
</span></span><span class=line><span class=cl>apt-get update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. å®‰è£… ALAS æ‰€éœ€çš„æ‰€æœ‰æ ¸å¿ƒåº“åŠå…¶æ·±å±‚ä¾èµ–</span>
</span></span><span class=line><span class=cl><span class=c1># åŒ…å«ï¼šOpenCV 4.5, HDF5, GDAL, OpenSSL 1.1, NetCDF, DAP ç­‰</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;â¬‡ï¸ Installing dependencies...&#34;</span>
</span></span><span class=line><span class=cl>apt-get install -y <span class=se>\
</span></span></span><span class=line><span class=cl>    libopencv-core4.5 libopencv-imgcodecs4.5 libopencv-highgui4.5 <span class=se>\
</span></span></span><span class=line><span class=cl>    libgdal28 libgeos-c1v5 libproj19 <span class=se>\
</span></span></span><span class=line><span class=cl>    libhdf5-103 libsz2 libaec0 <span class=se>\
</span></span></span><span class=line><span class=cl>    libnetcdf18 libdap27 libdapclient6v5 <span class=se>\
</span></span></span><span class=line><span class=cl>    libspatialite7 libodbc1 <span class=se>\
</span></span></span><span class=line><span class=cl>    libssl1.1 libcrypto++6 <span class=se>\
</span></span></span><span class=line><span class=cl>    libtbb2 libarmadillo-dev libgfortran5 <span class=se>\
</span></span></span><span class=line><span class=cl>    libkmlbase1 libkmldom1 libkmlengine1 liburiparser1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. æ‰¹é‡æœåˆ®åº“æ–‡ä»¶ (.so)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ğŸ“¦ Extracting libraries...&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># å®šä¹‰éœ€è¦æ•è·çš„åº“åç§°å…³é”®è¯</span>
</span></span><span class=line><span class=cl><span class=nv>PATTERNS</span><span class=o>=(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;libopencv*&#34;</span> <span class=s2>&#34;libgdal*&#34;</span> <span class=s2>&#34;libgeos*&#34;</span> <span class=s2>&#34;libproj*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;libhdf5*&#34;</span> <span class=s2>&#34;libsz*&#34;</span> <span class=s2>&#34;libaec*&#34;</span> <span class=s2>&#34;libnetcdf*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;libdap*&#34;</span> <span class=s2>&#34;libspatialite*&#34;</span> <span class=s2>&#34;libodbc*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;libssl*&#34;</span> <span class=s2>&#34;libcrypto*&#34;</span> <span class=s2>&#34;libtbb*&#34;</span> <span class=s2>&#34;libarmadillo*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;libgfortran*&#34;</span> <span class=s2>&#34;libkml*&#34;</span> <span class=s2>&#34;liburiparser*&#34;</span> <span class=s2>&#34;libfreexl*&#34;</span> <span class=s2>&#34;libepsilon*&#34;</span>
</span></span><span class=line><span class=cl><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># éå†ç³»ç»Ÿåº“ç›®å½•ï¼Œå°†åŒ¹é…çš„æ–‡ä»¶å¤åˆ¶åˆ°æŒ‚è½½çš„ /output ç›®å½•</span>
</span></span><span class=line><span class=cl><span class=k>for</span> PATTERN in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>PATTERNS</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    find /usr/lib /lib -name <span class=s2>&#34;</span><span class=nv>$PATTERN</span><span class=s2>&#34;</span> -exec cp -Lv <span class=o>{}</span> /output/ <span class=se>\;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;âœ… Extraction complete.&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># é€€å‡ºå®¹å™¨</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span>
</span></span></code></pre></td></tr></table></div></div><p>æ‰§è¡Œå®Œæ¯•åï¼Œåœ¨å®¿ä¸»æœºçš„å½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª ALAS_libs æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰éœ€è¦çš„æ—§ç‰ˆ .soã€‚</p><p>è¯·å°†æ­¤æ–‡ä»¶å¤¹å®Œæ•´ä¸Šä¼ è‡³æ ‘è“æ´¾çš„ ~/ALAS/ ç›®å½•ä¸‹ã€‚</p><h4 id=3-æ„å»ºç§æœ‰åº“ç¯å¢ƒ>3. æ„å»ºç§æœ‰åº“ç¯å¢ƒ</h4><p>ALAS_libs æ–‡ä»¶å¤¹ä¸Šä¼ è‡³æ ‘è“æ´¾åï¼Œè¿˜éœ€è¦ä¿®å¤å…¶ä¸­åº“æ–‡ä»¶çš„è½¯é“¾æ¥ã€‚</p><p>Linux çš„åŠ¨æ€é“¾æ¥å™¨åœ¨åŠ è½½åº“æ—¶ï¼Œé€šå¸¸å¯»æ‰¾çš„æ˜¯ä¸€ä¸ªç®€çŸ­çš„ <strong>SONAME</strong>ï¼ˆå¦‚ libdap.so.27ï¼‰ï¼Œè€Œæˆ‘ä»¬ä»å®¹å™¨ä¸­å¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶æ˜¯å¸¦æœ‰å®Œæ•´ç‰ˆæœ¬å·çš„å…¨åï¼ˆå¦‚ libdap.so.27.0.4ï¼‰ã€‚</p><p>éœ€è¦æ‰‹åŠ¨å»ºç«‹è¿™ç§æ˜ å°„å…³ç³»ã€‚</p><p>åœ¨æ ‘è“æ´¾ç»ˆç«¯æ‰§è¡Œï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># è¿›å…¥æˆ‘ä»¬çš„ç§æœ‰åº“ç›®å½•</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/ALAS/ALAS_libs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ‰¹é‡ä¿®å¤å…³é”®åº“çš„è½¯é“¾æ¥ (Symlink Repair)</span>
</span></span><span class=line><span class=cl><span class=c1># è¯­æ³•ï¼šln -sf [çœŸå®æ–‡ä»¶å…¨å] [åŠ è½½å™¨å¯»æ‰¾çš„çŸ­å]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. HDF5 å®¶æ—</span>
</span></span><span class=line><span class=cl>ln -sf libhdf5_serial.so.103.* libhdf5_serial.so.103
</span></span><span class=line><span class=cl>ln -sf libhdf5_serial_hl.so.100.* libhdf5_serial_hl.so.100
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. GDAL ç½‘ç»œä¾èµ– (DAP &amp; NetCDF)</span>
</span></span><span class=line><span class=cl>ln -sf libdap.so.27.* libdap.so.27
</span></span><span class=line><span class=cl>ln -sf libdapclient.so.6.* libdapclient.so.6
</span></span><span class=line><span class=cl>ln -sf libnetcdf.so.18.* libnetcdf.so.18
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. ç©ºé—´æ•°æ®ä¾èµ–</span>
</span></span><span class=line><span class=cl>ln -sf libspatialite.so.7.* libspatialite.so.7
</span></span><span class=line><span class=cl>ln -sf libgeotiff.so.5.* libgeotiff.so.5
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. åŸºç¡€è®¡ç®—åº“</span>
</span></span><span class=line><span class=cl>ln -sf libgfortran.so.5.* libgfortran.so.5
</span></span><span class=line><span class=cl>ln -sf libsz.so.2.* libsz.so.2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;âœ… åŠ¨æ€é“¾æ¥åº“ç´¢å¼•é‡å»ºå®Œæˆã€‚&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=4-å¯åŠ¨è„šæœ¬>4. å¯åŠ¨è„šæœ¬</h4><p>ä¸ºäº†å½»åº•è§£å†³å› æ–°æ—§åº“ç¬¦å·ä¸å…¼å®¹è€Œå¯¼è‡´çš„ undefined symbolï¼Œå•çº¯è®¾ç½® LD_LIBRARY_PATH æ˜¯ä¸å¤Ÿçš„ã€‚</p><p>å¿…é¡»ä½¿ç”¨ LD_PRELOAD å¼ºåˆ¶ç³»ç»Ÿåœ¨å¯åŠ¨ç¨‹åºæ—¶ï¼Œæœ€ä¼˜å…ˆåŠ è½½æŒ‡å®šçš„æ—§ç‰ˆæ ¸å¿ƒåº“ã€‚</p><p>åœ¨ ~/ALAS/AzurLaneAutoScript/ ä¸‹åˆ›å»º run.shï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ==========================================</span>
</span></span><span class=line><span class=cl><span class=c1># ALAS å…¼å®¹æ€§å¯åŠ¨è„šæœ¬</span>
</span></span><span class=line><span class=cl><span class=c1># ==========================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç§æœ‰åº“ç»å¯¹è·¯å¾„ (è¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ &#39;pipi&#39; ä¸ºä½ çš„ç”¨æˆ·å)</span>
</span></span><span class=line><span class=cl><span class=nv>LIB_DIR</span><span class=o>=</span><span class=s2>&#34;/home/pipi/ALAS/ALAS_libs&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- 1. æ„å»ºå¼ºåˆ¶é¢„åŠ è½½åå• (Preload List) ---</span>
</span></span><span class=line><span class=cl><span class=c1># å¿…é¡»æŒ‰ä¾èµ–é¡ºåºæ’åˆ—ï¼šåº•å±‚ -&gt; ä¸Šå±‚</span>
</span></span><span class=line><span class=cl><span class=c1># è¿™äº›åº“å°†æ— è§†ç³»ç»Ÿè‡ªå¸¦ç‰ˆæœ¬ï¼Œå¼ºåˆ¶ä½¿ç”¨ç§æœ‰ç›®å½•ä¸‹çš„ç‰ˆæœ¬</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># [Level 0] åŠ å¯†ä¸å®‰å…¨ (è§£å†³ OpenSSL 3.0 å…¼å®¹æ€§)</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libcrypto.so.1.1&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libssl.so.1.1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># [Level 1] æ ¸å¿ƒæ•°æ®æ ¼å¼ (è§£å†³ HDF5/NetCDF undefined symbol)</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libhdf5_serial.so.103&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libhdf5_serial_hl.so.100&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libnetcdf.so.18&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># [Level 2] ç½‘ç»œä¸æ•°æ®è®¿é—® (è§£å†³ libdap ç¬¦å·ç¼ºå¤±)</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libdap.so.27&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libdapclient.so.6&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># [Level 3] ç©ºé—´æ•°æ®åº“ (é¢„é˜²æ€§åŠ è½½)</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libspatialite.so.7&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PRELOAD_LIST</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>/libodbc.so.1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- 2. æ³¨å…¥ç¯å¢ƒå˜é‡ ---</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è®¾ç½®åº“æŸ¥æ‰¾è·¯å¾„ (è®©ç¨‹åºèƒ½æ‰¾åˆ°å…¶ä»–éå¼ºåˆ¶åŠ è½½çš„ä¾èµ–)</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>LD_LIBRARY_PATH</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¯ç”¨é¢„åŠ è½½ (å»é™¤å¼€å¤´çš„å†’å·)</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_PRELOAD</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PRELOAD_LIST</span><span class=p>#:</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- 3. å¯åŠ¨ç¨‹åº ---</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ğŸš€ Starting ALAS with forced legacy dependencies...&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ğŸ“š Lib Path: </span><span class=si>${</span><span class=nv>LIB_DIR</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;ğŸ’‰ Injecting: SSL, HDF5, DAP, NetCDF...&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># å¯åŠ¨ Python è„šæœ¬</span>
</span></span><span class=line><span class=cl>python gui.py
</span></span></code></pre></td></tr></table></div></div><p>æœ€åï¼Œæˆäºˆè¯¥è„šæœ¬æ‰§è¡Œæƒé™å¹¶è¿è¡Œå®ƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod +x run.sh
</span></span><span class=line><span class=cl>./run.sh
</span></span></code></pre></td></tr></table></div></div><p>ALAS å°†åœ¨ä¸€ä¸ªâ€œè™šæ‹Ÿ Debian 11 æ°”æ³¡â€ä¸­å¯åŠ¨å¹¶è¿è¡Œï¼Œå®ƒä¼šä½¿ç”¨æˆ‘ä»¬æä¾›çš„æ—§ç‰ˆä¾èµ–åº“ï¼Œè€Œå®Œå…¨ä¸ä¼šå¹²æ‰°åˆ°å®¿ä¸»æœº Debian 13 ç¯å¢ƒçš„ç¨³å®šã€‚</p><p>ç„¶è€Œï¼Œå½“æˆ‘ä»¬é€šè¿‡æ–°è„šæœ¬å¯åŠ¨ ALAS åï¼Œä¸€ä¸ªç†Ÿæ‚‰é”™è¯¯å†æ¬¡å‡ºç°åœ¨äº†ç»ˆç«¯ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>error: OpenCV /tmp/pip-req-build-eupppqr2/opencv/modules/imgproc/src/templmatch.cpp:1163: error:
</span></span><span class=line><span class=cl><span class=o>(</span>-215:Assertion failed<span class=o>)</span> <span class=o>(</span><span class=nv>depth</span> <span class=o>==</span> CV_8U <span class=o>||</span> <span class=nv>depth</span> <span class=o>==</span> CV_32F<span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=nb>type</span> <span class=o>==</span> _templ.type<span class=o>()</span> <span class=o>&amp;&amp;</span>
</span></span><span class=line><span class=cl>_img.dims<span class=o>()</span> &lt;<span class=o>=</span> <span class=m>2</span> in <span class=k>function</span> <span class=s1>&#39;matchTemplate&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ­£æ˜¯æœ€åˆé€šè¿‡è½¯é“¾æ¥æ–¹å¼é‡åˆ°çš„é‚£ä¸ª C++ åº•å±‚æ–­è¨€å¤±è´¥çš„é”™è¯¯ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æ‰æç„¶å¤§æ‚Ÿï¼šå°½ç®¡å®ç°æ–¹å¼ä¸åŒï¼Œä½†æ— è®ºæ˜¯ä¹‹å‰ä½¿ç”¨è½¯é“¾æ¥è®©ç¨‹åºâ€œå°†å°±â€ç³»ç»Ÿçš„æ–°åº“ï¼Œè¿˜æ˜¯ç°åœ¨é€šè¿‡ LD_PRELOAD å¼ºåˆ¶ç¨‹åºä½¿ç”¨æˆ‘ä»¬æ‰“åŒ…çš„æ—§åº“ï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„â€”â€”</p><p>éƒ½é€ æˆäº†ç¨‹åºå†…éƒ¨æŸäº›ç»„ä»¶ï¼ˆä¾‹å¦‚ Python pip å®‰è£…çš„ opencv-pythonï¼‰ä¸å®ƒå®é™…è°ƒç”¨çš„åŠ¨æ€é“¾æ¥åº“ (.so æ–‡ä»¶) ä¹‹é—´çš„ç‰ˆæœ¬é”™é…ã€‚</p><p>æˆ‘ä»¬æ‰€åšçš„ï¼Œåªæ˜¯ä»ç³»ç»Ÿè‡ªåŠ¨é“¾æ¥åˆ°é”™è¯¯ç‰ˆæœ¬å˜æˆäº†æˆ‘ä»¬æ‰‹åŠ¨æä¾›äº†é”™è¯¯ç‰ˆæœ¬ï¼Œé—®é¢˜çš„æ ¹æºå¹¶æœªè¢«è§¦åŠã€‚</p><h3 id=48-æµ·å›¾è¯†åˆ«é—®é¢˜>4.8 æµ·å›¾è¯†åˆ«é—®é¢˜</h3><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸè§£å†³äº† ALAS çš„ç‚¹å‡»ä¸æ»‘åŠ¨åŠŸèƒ½ï¼Œåªç•™ä¸‹<strong>æµ·å›¾è¯†åˆ«å¤±è´¥</strong>ã€‚</p><p>å…·ä½“è¡¨ç°ä¸ºå½“ ALAS å°è¯•è¯†åˆ«æ¸¸æˆå†…çš„åœ°å›¾å…ƒç´ æˆ–ç‰©ä½“æ—¶ï¼Œä¼šæŠ›å‡ºåº•å±‚é”™è¯¯ï¼Œå¯¼è‡´è‡ªåŠ¨åŒ–æµç¨‹ä¸­æ–­ã€‚</p><h4 id=ç®€å•å°è¯•>ç®€å•å°è¯•</h4><p>æˆ‘ä»¬è¿›è¡Œäº†ä¸€ç³»åˆ—å°è¯•æ¥å®šä½å¹¶è§£å†³æ­¤é—®é¢˜ï¼š</p><ol><li>æ›´æ¢ opencv-python ç‰ˆæœ¬ï¼šæˆ‘ä»¬å°è¯•äº†å¤šä¸ªä¸åŒç‰ˆæœ¬çš„ opencv-python åŒ…ï¼ˆ4.5.1.48ï¼Œ4.5.5.64ï¼Œ4.7.0.72ï¼‰ï¼Œè¯•å›¾æ‰¾åˆ°ä¸€ä¸ªèƒ½ä¸æˆ‘ä»¬ç°æœ‰ç¯å¢ƒï¼ˆæ— è®ºæ˜¯ç³»ç»Ÿåº“è¿˜æ˜¯ç§æœ‰åº“ï¼‰å…¼å®¹çš„ç‰ˆæœ¬ï¼Œä½†å‡ä»¥å¤±è´¥å‘Šç»ˆï¼Œæ€»ä¼šå¼•å‘æ–°çš„ä¾èµ–å†²çªæˆ–è¿è¡Œæ—¶é”™è¯¯ã€‚</li><li>ä¿®æ”¹ .so ç»„åˆï¼šå†æ¬¡å›åˆ°è°ƒæ•´ .so çš„æ€è·¯ä¸Šï¼Œä½†æ— è®ºæ˜¯é€šè¿‡è½¯é“¾æ¥è¿˜æ˜¯ LD_PRELOADï¼Œéƒ½æ— æ³•æ­å»ºå‡ºä¸€ä¸ªèƒ½è®©å›¾åƒè¯†åˆ«åŠŸèƒ½æ­£å¸¸å·¥ä½œçš„ç¯å¢ƒã€‚</li></ol><p>è¿™äº›å¤±è´¥çš„å°è¯•å…±åŒæŒ‡å‘ä¸€ä¸ªç»“è®ºï¼šç®€å•åœ°ä» Debian 11 çš„ Docker å®¹å™¨ä¸­å¤åˆ¶ç²˜è´´ .so åˆ° Debian 13 ä¸Šè¿è¡Œï¼Œè¿™æ¡è·¯æ˜¯èµ°ä¸é€šçš„ã€‚</p><p>è¿™ç§æ–¹å¼æ— æ³•ä¿è¯æ‰€æœ‰ç›¸å…³ç»„ä»¶ï¼ˆPython åŒ…ã€åº•å±‚åº“ã€ç¼–è¯‘å™¨è¿è¡Œæ—¶ï¼‰ä¹‹é—´çš„ ABI å®Œå…¨å…¼å®¹ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠå¤æ‚è®¡ç®—çš„å›¾åƒå¤„ç†æ¨¡å—ä¸Šã€‚</p><h4 id=å°è¯•å®¹å™¨>å°è¯•å®¹å™¨</h4><p>æ—¢ç„¶æ— æ³•åœ¨å®¿ä¸»ç³»ç»Ÿä¸Šè§£å†³ï¼Œæˆ‘ä»¬å°†ç›®å…‰è½¬å‘äº†<strong>å°† ALAS æ•´ä½“è¿è¡Œåœ¨ Docker å®¹å™¨ä¸­</strong>çš„æ–¹æ¡ˆï¼Œä»¥å®ç°ç¯å¢ƒçš„å½»åº•éš”ç¦»ã€‚</p><p>ç„¶è€Œï¼Œè¿™æ¡è·¯ä¹Ÿç¢°åˆ°äº†å„ç§é—®é¢˜ï¼š</p><ul><li>å®˜æ–¹ Docker é•œåƒï¼šALAS å®˜æ–¹å¹¶æœªæä¾› arm64 çš„ Docker é•œåƒï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°è¯•åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²å…¶ x86 å®˜æ–¹é•œåƒï¼Œå‘ç°é•œåƒä¸­çš„éƒ¨åˆ†é…ç½®ä¹Ÿå·²è¿‡æ—¶ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ã€‚</li><li>è¿œç¨‹éƒ¨ç½²ï¼šåœ¨æœ¬åœ° Windows ä¸»æœºä¸Šéƒ¨ç½² ALASï¼Œç„¶åé€šè¿‡é˜¿é‡Œäº‘æœåŠ¡å™¨ä½œä¸º frp ä¸­ç»§ï¼Œæ¥è¿œç¨‹æ§åˆ¶æ ‘è“æ´¾ä¸Šçš„ Waydroidã€‚ä½†ç”±äºç½‘ç»œå»¶è¿Ÿè¿‡é«˜ï¼ˆå•æ¬¡æ“ä½œå¾€è¿”çº¦ 100 msï¼‰ï¼Œä¸¥é‡å½±å“äº† ALAS çš„å“åº”é€Ÿåº¦å’Œç¨³å®šæ€§ï¼Œæœ€ç»ˆåªèƒ½æ”¾å¼ƒã€‚</li></ul><h4 id=æ„å»º-docker-ç¯å¢ƒ>æ„å»º Docker ç¯å¢ƒ</h4><p>åœ¨æ’é™¤äº†æ‰€æœ‰æ·å¾„åï¼Œæˆ‘ä»¬å¾—å‡ºäº†æœ€ç»ˆç»“è®ºï¼šå¿…é¡»ç›´é¢é—®é¢˜ï¼Œåœ¨æ ‘è“æ´¾æœ¬åœ°æ„å»ºä¸€ä¸ªå®Œå…¨éš”ç¦»ä¸”å…¼å®¹çš„è¿è¡Œç¯å¢ƒã€‚</p><p>æˆ‘ä»¬çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’æ˜¯ï¼š<strong>åœ¨æ ‘è“æ´¾ä¸Šï¼Œä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªé€‚ç”¨äº ALAS çš„ arm64 Docker å®¹å™¨</strong>ã€‚å¦‚æœè¿™æ¡è·¯ä¹Ÿå¤±è´¥ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œæœ€åçš„å¤‡é€‰æ–¹æ¡ˆï¼Œå³ä¹‹å‰æ„æƒ³çš„æ–¹æ¡ˆ 2ï¼šåœ¨ Debian 13 ä¸Šï¼Œä»æºç å®Œæ•´åœ°é‡æ–°ç¼–è¯‘ ALAS æ‰€éœ€çš„ OpenCV 4.7 ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿å…¶ä¸å®¿ä¸»ç³»ç»Ÿç¯å¢ƒçš„å®Œå…¨å…¼å®¹ã€‚</p><h3 id=49-å¦ä¸€ç§æ–¹å‘çš„æ€è€ƒ>4.9 å¦ä¸€ç§æ–¹å‘çš„æ€è€ƒ</h3><p>æ­¤å‰ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„åŠªåŠ›éƒ½é›†ä¸­åœ¨é€šè¿‡ä¿®æ”¹ç³»ç»Ÿé…ç½®å’Œæ›¿æ¢ä¾èµ–åº“æ¥è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼Œä½†è¿™äº›æ–¹æ³•å‡æœªèƒ½æ ¹æ²»æµ·å›¾è¯†åˆ«å¤±è´¥çš„é¡½ç–¾ã€‚</p><p>åœ¨å‡†å¤‡å¯åŠ¨ Docker æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬å†³å®šæš‚åœä¸‹æ¥ï¼Œå°è¯•ä¸€ç§å…¨æ–°çš„æ€è€ƒç»´åº¦ï¼šæ—¢ç„¶æ— æ³•å®Œç¾åœ°è®©ç¯å¢ƒå»è¿å°±ç¨‹åºï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥åå…¶é“è€Œè¡Œä¹‹ï¼Œ<strong>ç›´æ¥ä¿®æ”¹ ALAS çš„æºä»£ç </strong>ï¼Œè®©ç¨‹åºä¸»åŠ¨é€‚åº”å½“å‰çš„ç¯å¢ƒï¼Ÿ</p><p>ç»è¿‡å¯¹æŠ¥é”™ä¿¡æ¯å’Œç›¸å…³ä»£ç çš„æ·±å…¥ç ”ç©¶ï¼Œæˆ‘ä»¬ç»ˆäºå®šä½åˆ°äº†é—®é¢˜çš„æ ¹æºã€‚é”™è¯¯å‘ç”Ÿåœ¨æ¨¡æ¿åŒ¹é…å‡½æ•° matchTemplate ä¸­ï¼Œå…¶ç›´æ¥åŸå› æ˜¯ï¼š</p><p><strong>ALAS åœ¨è¿›è¡Œæµ·å›¾è¯†åˆ«æ—¶ï¼Œå°†æ¸¸æˆæˆªå›¾è½¬æ¢ä¸ºäº†ç°åº¦å›¾åƒï¼Œä½†å´ç”¨è¿™å¼ ç°åº¦å›¾å»åŒ¹é…ä¸€ä¸ªæœªç»å¤„ç†çš„ã€éç°åº¦æ ¼å¼ï¼ˆä¾‹å½©è‰²ï¼‰çš„æ¨¡æ¿å›¾åƒã€‚</strong> ä¸¤ç§å›¾åƒæ ¼å¼çš„ä¸ä¸€è‡´ï¼Œç›´æ¥è§¦å‘äº† OpenCV åº•å±‚çš„æ–­è¨€å¤±è´¥ã€‚</p><p>å› æ­¤ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿå˜å¾—å¾ˆæ¸…æ™°ï¼šæˆ‘ä»¬åªéœ€åœ¨ ALAS çš„æºç ä¸­æ‰¾åˆ°è¿›è¡Œæ¨¡æ¿åŒ¹é…çš„ç›¸å…³ä»£ç ï¼Œåœ¨æ‰§è¡ŒåŒ¹é…æ“ä½œä¹‹å‰ï¼Œ<strong>å¢åŠ ä¸€æ­¥ï¼Œå°†åŠ è½½è¿›æ¥çš„æ¨¡æ¿å›¾åƒåŒæ ·è½¬æ¢ä¸ºç°åº¦æ ¼å¼</strong>ã€‚é€šè¿‡è¿™ä¸€ç®€å•çš„ä¿®æ”¹ï¼Œç¡®ä¿äº†å‚ä¸åŒ¹é…çš„ä¸¤å¼ å›¾åƒæ ¼å¼å®Œå…¨ä¸€è‡´ï¼Œä»è€Œä»æ ¹æœ¬ä¸Šè§£å†³äº†è¯¥æŠ¥é”™é—®é¢˜ã€‚</p><h3 id=410-ä¿®æ”¹æºç è§£å†³æµ·å›¾è¯†åˆ«é—®é¢˜æœ‰æ¼æ´>4.10 ä¿®æ”¹æºç è§£å†³æµ·å›¾è¯†åˆ«é—®é¢˜ï¼ˆæœ‰æ¼æ´ï¼‰</h3><p>å…·ä½“å®æ–½æ­¥éª¤å¦‚ä¸‹ï¼š</p><h4 id=1-å›ºå®š-opencv-python-headless-ç‰ˆæœ¬>1. å›ºå®š opencv-python-headless ç‰ˆæœ¬</h4><p>åœ¨æ­¤å‰åŸºäº LD_PRELOAD ä¾èµ–æ³¨å…¥çš„ç‰ˆæœ¬åè¿›è¡Œæ“ä½œï¼Œå°† opencv-python-headless é™çº§åˆ° 4.5.5.64ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip uninstall opencv-python-headless
</span></span><span class=line><span class=cl>pip install opencv-python-headless<span class=o>==</span>4.5.5.64
</span></span></code></pre></td></tr></table></div></div><h4 id=2-ä¿®æ”¹-alas-æºç >2. ä¿®æ”¹ ALAS æºç </h4><p>å¯¹ ALAS æºç ä¸­ä¸¤å¤„ä¸æ•Œäººç±»å‹é¢„æµ‹ç›¸å…³çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¼ºåˆ¶åœ¨æ¨¡æ¿åŒ¹é…å‰ï¼Œå°†æ¨¡æ¿å›¾åƒä¹Ÿè½¬æ¢ä¸ºç°åº¦å›¾ã€‚</p><p>æ–‡ä»¶ä¸€ï¼šAzurLaneAutoScript/module/map_detection/os_grid.py</p><p>åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œä¸º predict_enemy_genre å‡½æ•°åŠ å…¥äº†åŠ¨æ€æ ¼å¼æ£€æŸ¥ä¸è½¬æ¢é€»è¾‘ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_enemy_genre</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 1. æˆªå–å±å¹•å¹¶è½¬ä¸ºç°åº¦</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span> <span class=o>=</span> <span class=n>rgb2gray</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>relative_crop</span><span class=p>((</span><span class=o>-</span><span class=mf>0.5</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>60</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 2. éå†æ™®é€šæ•Œäººæ¨¡ç‰ˆ</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>template</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_os_template_enemy</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=c1># [Pipiæ³¨] åŠ¨æ€ä¿®å¤ï¼šå¦‚æœæ¨¡ç‰ˆæ˜¯å½©è‰²çš„ï¼Œå¼ºåˆ¶è½¬ä¸ºç°åº¦ä»¥åŒ¹é…æˆªå›¾</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>template</span><span class=o>.</span><span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>rgb2gray</span><span class=p>(</span><span class=n>img</span><span class=p>)</span> <span class=k>if</span> <span class=n>img</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>3</span> <span class=k>else</span> <span class=n>img</span> <span class=k>for</span> <span class=n>img</span> <span class=ow>in</span> <span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>template</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>image</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 3. æˆªå–ä¸Šæ–¹åŒºåŸŸå¹¶è½¬ä¸ºç°åº¦</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span> <span class=o>=</span> <span class=n>rgb2gray</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>relative_crop</span><span class=p>((</span><span class=o>-</span><span class=mf>0.5</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>60</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 4. éå†ä¸Šæ–¹æ•Œäººæ¨¡ç‰ˆ (å¦‚æ——èˆ°ç­‰)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>template</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_os_template_enemy_upper</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=c1># [Pipiæ³¨] åŠ¨æ€ä¿®å¤ï¼šåŒä¸Šï¼Œå¼ºåˆ¶è½¬ç°åº¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>template</span><span class=o>.</span><span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>rgb2gray</span><span class=p>(</span><span class=n>img</span><span class=p>)</span> <span class=k>if</span> <span class=n>img</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>3</span> <span class=k>else</span> <span class=n>img</span> <span class=k>for</span> <span class=n>img</span> <span class=ow>in</span> <span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>template</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>image</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><p>æ–‡ä»¶äºŒï¼šAzurLaneAutoScript/module/map_detection/grid_predictor.py</p><p>åŒæ ·åœ°ï¼Œåœ¨ grid_predictor.py çš„ predict_enemy_genre å‡½æ•°ä¸­ï¼Œä¹Ÿåœ¨æ¨¡æ¿åŒ¹é…å‰åŠ å…¥äº†ç›¸åŒçš„ç°åº¦è½¬æ¢é€»è¾‘ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_enemy_genre</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>MAP_SIREN_HAS_BOSS_ICON</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>enemy_scale</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>image</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>relative_crop</span><span class=p>((</span><span class=o>-</span><span class=mf>0.55</span><span class=p>,</span> <span class=o>-</span><span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.45</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>image</span> <span class=o>=</span> <span class=n>color_similarity_2d</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>150</span><span class=p>,</span> <span class=mi>24</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>image</span><span class=p>[</span><span class=n>image</span> <span class=o>&gt;</span> <span class=mi>221</span><span class=p>]</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>TEMPLATE_ENEMY_BOSS</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>similarity</span><span class=o>=</span><span class=mf>0.6</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=s1>&#39;Siren_Siren&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>MAP_SIREN_HAS_BOSS_ICON_SMALL</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>relative_hsv_count</span><span class=p>(</span><span class=n>area</span><span class=o>=</span><span class=p>(</span><span class=mf>0.03</span><span class=p>,</span> <span class=o>-</span><span class=mf>0.15</span><span class=p>,</span> <span class=mf>0.63</span><span class=p>,</span> <span class=mf>0.15</span><span class=p>),</span> <span class=n>h</span><span class=o>=</span><span class=p>(</span><span class=mi>32</span> <span class=o>-</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>32</span> <span class=o>+</span> <span class=mi>3</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>100</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>image</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>relative_crop</span><span class=p>((</span><span class=mf>0.03</span><span class=p>,</span> <span class=o>-</span><span class=mf>0.15</span><span class=p>,</span> <span class=mf>0.63</span><span class=p>,</span> <span class=mf>0.15</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=n>image</span> <span class=o>=</span> <span class=n>color_similarity_2d</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>150</span><span class=p>,</span> <span class=mi>33</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>TEMPLATE_ENEMY_BOSS</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>similarity</span><span class=o>=</span><span class=mf>0.7</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=s1>&#39;Siren_Siren&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>image_dic</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>scaling_dic</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>MAP_ENEMY_GENRE_DETECTION_SCALING</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>template</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>template_enemy_genre</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>template</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Enemy detection template not found: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s1>&#39;Please create it with dev_tools/relative_record.py or dev_tools/relative_crop.py, &#39;</span>
</span></span><span class=line><span class=cl>                           <span class=s1>&#39;then place it under ./assets/&lt;server&gt;/template&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>ScriptError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Enemy detection template not found: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>short_name</span> <span class=o>=</span> <span class=n>name</span><span class=p>[</span><span class=mi>6</span><span class=p>:]</span> <span class=k>if</span> <span class=n>name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;Siren_&#39;</span><span class=p>)</span> <span class=k>else</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=n>scaling</span> <span class=o>=</span> <span class=n>scaling_dic</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>short_name</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>scaling</span> <span class=o>=</span> <span class=p>(</span><span class=n>scaling</span><span class=p>,)</span> <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>scaling</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)</span> <span class=k>else</span> <span class=n>scaling</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>scale</span> <span class=ow>in</span> <span class=n>scaling</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>scale</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>image_dic</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>shape</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>round</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>((</span><span class=mi>60</span><span class=p>,</span> <span class=mi>60</span><span class=p>))</span> <span class=o>*</span> <span class=n>scale</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>int</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=c1># è¿™é‡Œæ˜¯ä½ çš„æˆªå›¾ï¼Œå·²ç»è¢«è½¬æˆäº†ç°åº¦å›¾</span>
</span></span><span class=line><span class=cl>                <span class=n>image_dic</span><span class=p>[</span><span class=n>scale</span><span class=p>]</span> <span class=o>=</span> <span class=n>rgb2gray</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>relative_crop</span><span class=p>((</span><span class=o>-</span><span class=mf>0.5</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>shape</span><span class=o>=</span><span class=n>shape</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># [Pipiæ³¨] è¿™é‡Œçš„é­”æ³•ä»£ç ä¼šæŠŠå½©è‰²çš„æ¨¡ç‰ˆå¼ºåˆ¶è½¬æˆç°åº¦</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>template</span><span class=o>.</span><span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>rgb2gray</span><span class=p>(</span><span class=n>img</span><span class=p>)</span> <span class=k>if</span> <span class=n>img</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>3</span> <span class=k>else</span> <span class=n>img</span> <span class=k>for</span> <span class=n>img</span> <span class=ow>in</span> <span class=n>template</span><span class=o>.</span><span class=n>image</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>template</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>image_dic</span><span class=p>[</span><span class=n>scale</span><span class=p>],</span> <span class=n>similarity</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>MAP_ENEMY_GENRE_SIMILARITY</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†å¯¹ ALAS æºç çš„ä¿®æ”¹ã€‚ä¿å­˜æ–‡ä»¶åï¼Œé‡æ–°è¿è¡Œ ALASï¼Œè¿™ä¸€æ¬¡ï¼Œæµ·å›¾è¯†åˆ«åŠŸèƒ½ç»ˆäºæ¢å¤äº†æ­£å¸¸ï¼Œè‡ªåŠ¨åŒ–è„šæœ¬èƒ½å¤Ÿé¡ºåˆ©æ‰§è¡Œæ‰€æœ‰æ“ä½œã€‚</p><blockquote><p>æ³¨æ„ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„å®ç°æ–¹æ¡ˆæ˜¯å…ˆè¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œç„¶åè¿›è¡Œæºç æ›¿æ¢ï¼Œè€Œä¸æ˜¯å®Œå…¨çš„æºç æ›¿æ¢ã€‚</p></blockquote><h3 id=411-æ´»åŠ¨å›¾è¯†åˆ«é—®é¢˜ä¸è§£å†³20251220-æ–°å¢>4.11 æ´»åŠ¨å›¾è¯†åˆ«é—®é¢˜ä¸è§£å†³ï¼ˆ2025.12.20 æ–°å¢ï¼‰</h3><p>æ­¤å‰ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ module/map_detection/os_grid.py å’Œ module/map_detection/grid_predictor.py ä¸­å¢åŠ ç°åº¦è½¬æ¢é€»è¾‘ï¼Œè§£å†³äº†ç‰¹å®šåœºæ™¯ä¸‹çš„ OpenCV matchTemplate æŠ¥é”™ã€‚</p><p>ç„¶è€Œåœ¨ åˆ—å…‹æ˜Ÿæ•¦â…¡æ´»åŠ¨ æœŸé—´ï¼ŒALAS å°è¯•è¿›è¡Œæ´»åŠ¨å›¾çš„æ–‡å­—è¯†åˆ«æ—¶ï¼ŒåŒæ ·çš„ C++ åº•å±‚æ–­è¨€é”™è¯¯å†æ¬¡å‡ºç°ã€‚</p><p>ç»è¿‡ç»†è‡´æ’æŸ¥ï¼Œæˆ‘ä»¬ç¡®è®¤äº†é—®é¢˜çš„æ ¸å¿ƒä¾ç„¶æ˜¯ cv2.matchTemplate å‡½æ•°å¯¹äºè¾“å…¥å›¾åƒç±»å‹çš„ä¸€è‡´æ€§è¦æ±‚ï¼š</p><p>å½“æˆªå›¾è¾“å…¥ image æ˜¯ç°åº¦å›¾ï¼ˆ2ç»´ï¼‰æ—¶ï¼Œç”¨äºåŒ¹é…çš„ template å›¾åƒå´ä»ç„¶æ˜¯å½©è‰²å›¾ï¼ˆ3ç»´ï¼‰ï¼Œå¯¼è‡´ç±»å‹ä¸åŒ¹é…è€ŒæŠ¥é”™ã€‚ä¹‹å‰çš„ä¿®æ”¹æœªèƒ½è¦†ç›–åˆ° ALAS ä¸­æ‰€æœ‰è°ƒç”¨ matchTemplate çš„è·¯å¾„ã€‚</p><p>ä¸ºäº†å®ç°ä¸€åŠ³æ°¸é€¸çš„è§£å†³æ–¹æ¡ˆï¼Œå†³å®šç›´æ¥ä¿®æ”¹ ALAS ä¸­æœ€åº•å±‚çš„æ¨¡æ¿åŒ¹é…å®ç°ã€‚è¿™æ ·æ‰€æœ‰é€šè¿‡è¯¥åº•å±‚å‡½æ•°è¿›è¡Œçš„åŒ¹é…æ“ä½œï¼Œéƒ½ä¼šè‡ªåŠ¨è¿›è¡Œå›¾åƒæ ¼å¼çš„ç»Ÿä¸€å¤„ç†ï¼Œä»è€Œå½»åº•é¿å…æ­¤ç±»é”™è¯¯ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹ module/base/template.py</p><h4 id=1-è¿˜åŸ>1. è¿˜åŸ</h4><p>å°† 4.10 ä¸­å¯¹ os_grid.py å’Œ grid_predictor.py çš„æ‰€æœ‰æºç ä¿®æ”¹è¿˜åŸå› ALAS çš„åŸå§‹çŠ¶æ€ã€‚</p><h4 id=2-ä¿®æ”¹ä»£ç >2. ä¿®æ”¹ä»£ç </h4><p>ä¿æŒæ­¤å‰çš„æ‰€æœ‰ç¯å¢ƒä¾èµ–ä¸å˜ï¼Œæ‰“å¼€ module/base/template.pyï¼Œæ‰¾åˆ°ç¬¬ 132 è¡Œï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>match</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>scaling</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>similarity</span><span class=o>=</span><span class=mf>0.85</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... (æ­¤å¤„ä¸ºåŸå§‹ä»£ç ï¼Œä¿æŒä¸å˜) ...</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_gif</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>template</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>image</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># =========== Pipi ===========</span>
</span></span><span class=line><span class=cl>                <span class=c1># å¦‚æœè¾“å…¥å›¾åƒæ˜¯ç°åº¦çš„ (2ç»´)ï¼Œè€Œæ¨¡æ¿å›¾åƒæ˜¯å½©è‰²çš„ (3ç»´)ï¼Œå¼ºåˆ¶æŠŠæ¨¡æ¿å›¾åƒè½¬æ¢ä¸ºç°åº¦</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>image</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>2</span> <span class=ow>and</span> <span class=n>template</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>template</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>cvtColor</span><span class=p>(</span><span class=n>template</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>COLOR_RGB2GRAY</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1># =========== Pipi ===========</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>matchTemplate</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>template</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>TM_CCOEFF_NORMED</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... (æ­¤å¤„ä¸ºåŸå§‹ä»£ç ï¼Œä¿æŒä¸å˜) ...</span>
</span></span></code></pre></td></tr></table></div></div><p>åŒæ ·çš„ï¼Œæ‰¾åˆ° 270 è¡Œï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>match_multi</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>scaling</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>similarity</span><span class=o>=</span><span class=mf>0.85</span><span class=p>,</span> <span class=n>threshold</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... (æ­¤å¤„ä¸ºåŸå§‹ä»£ç ï¼Œä¿æŒä¸å˜) ...</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_gif</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>template</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>image</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># =========== Pipi ===========</span>
</span></span><span class=line><span class=cl>                <span class=c1># å¦‚æœè¾“å…¥å›¾ç‰‡æ˜¯é»‘ç™½çš„(2ç»´)ï¼Œè€Œæ¨¡ç‰ˆæ˜¯å½©è‰²çš„(3ç»´)ï¼Œå¼ºåˆ¶æŠŠæ¨¡ç‰ˆè½¬é»‘ç™½</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>image</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>2</span> <span class=ow>and</span> <span class=n>template</span><span class=o>.</span><span class=n>ndim</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>template</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>cvtColor</span><span class=p>(</span><span class=n>template</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>COLOR_RGB2GRAY</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1># =========== Pipi ===========</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>matchTemplate</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>template</span><span class=p>,</span> <span class=n>cv2</span><span class=o>.</span><span class=n>TM_CCOEFF_NORMED</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... (æ­¤å¤„ä¸ºåŸå§‹ä»£ç ï¼Œä¿æŒä¸å˜) ...</span>
</span></span></code></pre></td></tr></table></div></div><p>ç»è¿‡ç®€å•æµ‹è¯•ï¼Œæœ¬æ¬¡å¯¹åº•å±‚ template.py æ–‡ä»¶çš„ä¿®æ­£æˆåŠŸè§£å†³äº†åŒ…æ‹¬æ´»åŠ¨å›¾æ–‡å­—è¯†åˆ«åœ¨å†…çš„æ‰€æœ‰å› å›¾åƒç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„ cv2.matchTemplate é”™è¯¯ã€‚</p><p>ç°åœ¨ï¼ŒALAS èƒ½å¤Ÿåœ¨æ ‘è“æ´¾ 5 ä¸Šæ›´åŠ ç¨³å®šåœ°æ‰§è¡Œæ‰€æœ‰å›¾åƒè¯†åˆ«å’Œè‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚</p><h2 id=äº”è®¿é—®ä¸æ§åˆ¶>äº”ã€è®¿é—®ä¸æ§åˆ¶</h2><p>æ ‘è“æ´¾éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®æˆä¸ºäº†æ—¥å¸¸ç®¡ç†çš„å¿…è¦ç¯èŠ‚ã€‚æˆ‘ä»¬å¯¹è¿œç¨‹æ–¹æ¡ˆçš„é€‰æ‹©ï¼Œéµå¾ªäº†ä½ç¡¬ä»¶æ¶ˆè€—å’Œä½ç½‘ç»œå¸¦å®½æ¶ˆè€—çš„æ ¸å¿ƒåŸåˆ™ã€‚</p><h3 id=51-realvnc>5.1 realvnc</h3><p>ä½œä¸ºæ ‘è“æ´¾å®˜æ–¹æ“ä½œç³»ç»Ÿå†…ç½®çš„è¿œç¨‹æ¡Œé¢è§£å†³æ–¹æ¡ˆï¼ŒRealVNC åœ¨å±€åŸŸç½‘ç¯å¢ƒä¸‹çš„ä½¿ç”¨æœ€ä¸ºç›´æ¥å’Œä¾¿æ·ã€‚åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹çš„ä»»ä½•ç”µè„‘ä¸Šå®‰è£… VNC Viewer å®¢æˆ·ç«¯ï¼Œè¾“å…¥æ ‘è“æ´¾çš„ IP åœ°å€ï¼Œå³å¯è½»æ¾è¿æ¥åˆ°å…¶å›¾å½¢æ¡Œé¢ã€‚</p><p>ä½†æ˜¯å…¶å¯¹äºå¸¦å®½æ¶ˆè€—å¤ªå¤§ï¼Œéš¾ä»¥æ”¯æ’‘è¿œç¨‹è¿æ¥ã€‚</p><h3 id=52-nomachine>5.2 NoMachine</h3><p>å¯¹äºéåŒä¸€ä¸ªå±€åŸŸç½‘çš„è¿œç¨‹æ§åˆ¶ï¼Œæˆ‘ä»¬æœ€åˆå°è¯•äº†åŸºäº X11 æ˜¾ç¤ºçš„ NoMachineã€‚ç„¶è€Œè¿è¡Œ Waydroid éœ€è¦ Waylandï¼Œè€Œ NoMachine åœ¨ Wayland ç¯å¢ƒä¸‹å¹¶ä¸å…¼å®¹ï¼Œæ‰€ä»¥èˆå¼ƒã€‚</p><h3 id=53-rustdesk>5.3. RustDesk</h3><p>RustDesk å¯¹ Wayland å…·æœ‰ä¸€å®šæ”¯æŒï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²äº†ä¸€å¥— RustDesk è‡ªå»ºæœåŠ¡å™¨ï¼Œç»è¿‡è°ƒè¯•ä¸æ’æŸ¥ï¼Œæœ€ç»ˆæˆåŠŸå»ºç«‹äº†ç¨³å®šå¯é çš„ RustDesk è¿œç¨‹è¿æ¥ï¼Œå®ç°äº†å¯¹æ ‘è“æ´¾æ¡Œé¢çš„è¿œç¨‹è®¿é—®ä¸æ§åˆ¶ã€‚</p><h3 id=54-é€šè¿‡åŠ å¯†-frp-è®¿é—®-alas-web-ç•Œé¢>5.4. é€šè¿‡åŠ å¯† frp è®¿é—® ALAS Web ç•Œé¢</h3><p>ALAS çš„å›¾å½¢ç”¨æˆ·ç•Œé¢æ˜¯é€šè¿‡ Web é¡µé¢è¿›è¡Œè®¿é—®å’Œç®¡ç†çš„ã€‚ä¸ºäº†é¿å…åœ¨èµ„æºæœ‰é™çš„æ ‘è“æ´¾ä¸Šç›´æ¥è¿è¡Œæ¶ˆè€—å†…å­˜çš„æµè§ˆå™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿä»å¤–ç½‘å®‰å…¨åœ°è¿›è¡Œè®¿é—®ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† frp è¿›è¡Œç©¿é€ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä»ä»»ä½•åœ°æ–¹è®¿é—® ALAS çš„ç®¡ç†ç•Œé¢ï¼Œè€Œæ— éœ€åœ¨æ ‘è“æ´¾æœ¬åœ°è¿›è¡Œä»»ä½•å›¾å½¢æ“ä½œã€‚</p><h3 id=55-æœ€ç»ˆæ•ˆæœ>5.5 æœ€ç»ˆæ•ˆæœ</h3><p><img src=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/e69dcb862b403c2aaa95058225460320_720.png width=1280 height=996 srcset="/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/e69dcb862b403c2aaa95058225460320_720_hu_718f47b0ffd5cc0d.png 480w, /p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/e69dcb862b403c2aaa95058225460320_720_hu_a98341fc6dd659b2.png 1024w" loading=lazy alt="vnc å±€åŸŸç½‘+åŠ å¯† frp" class=gallery-image data-flex-grow=128 data-flex-basis=308px></p><h2 id=å…­æ€»ç»“ä¸å±•æœ›>å…­ã€æ€»ç»“ä¸å±•æœ›</h2><p>æˆ‘ä»¬æˆåŠŸåœ°åœ¨æ ‘è“æ´¾ 5 ä¸Šéƒ¨ç½²å¹¶è¿è¡Œäº†ç¢§è“èˆªçº¿è‡ªåŠ¨åŒ–è„šæœ¬ ALASã€‚è¿™å¥—ç³»ç»Ÿç›®å‰è¿è¡Œç¨³å®šï¼Œ7x24 å°æ—¶ä¸é—´æ–­åœ°ä¸ºæˆ‘ä»¬ç®¡ç†ç€æ¸¯åŒºäº‹åŠ¡ï¼Œå®Œç¾å®ç°äº†å°†æ¸¸æˆæŒ‚æœºä»»åŠ¡ä¸ä¸»åŠ›å­¦ä¹ è®¾å¤‡å½»åº•åˆ†ç¦»çš„åˆè¡·ã€‚</p><p>ç”±äºæ—¶é—´æˆæœ¬çš„é™åˆ¶ï¼Œæˆ‘ä»¬å½“å‰é‡‡ç”¨äº†â€œåŸºäº LD_PRELOAD ä¾èµ–æ³¨å…¥ï¼ˆè§£å†³æ»‘åŠ¨é—®é¢˜ï¼‰ + ä¿®æ­£æºç ï¼ˆè§£å†³æµ·å›¾è¯†åˆ«ï¼‰â€çš„ç¨³å®šæ–¹æ¡ˆã€‚å¦‚æœæœªæ¥æœ‰æ›´å……è£•çš„æ—¶é—´ï¼Œæˆ‘ä»¬è®¡åˆ’æ¢ç´¢ä»¥ä¸‹å¯èƒ½æ€§ï¼š</p><ul><li>ç®€åŒ–æ–¹æ¡ˆéªŒè¯ï¼šå°è¯•åœ¨æœ€åˆä½¿ç”¨çš„è½¯é“¾æ¥æ–¹æ¡ˆåŸºç¡€ä¸Šï¼Œç›´æ¥åº”ç”¨æºç ä¿®æ­£ã€‚å¦‚æœæ­¤æ–¹æ¡ˆå¯è¡Œï¼Œå°†èƒ½æå¤§åœ°ç®€åŒ–æ–°ç¯å¢ƒçš„éƒ¨ç½²æµç¨‹ã€‚</li><li>æ¢ç´¢æ–¹æ¡ˆ 2ï¼šæŒ‘æˆ˜åœ¨ Debian 13 <strong>ä»æºç å®Œæ•´ç¼–è¯‘ ALAS æ‰€éœ€çš„ OpenCV ç‰ˆæœ¬</strong>ã€‚è¿™è™½ç„¶æ˜¯æœ€å¤æ‚çš„æ–¹æ¡ˆï¼Œä½†ä¹Ÿæ˜¯æœ€æ ¹æ­£è‹—çº¢çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½ä»æ ¹æœ¬ä¸Šæ¶ˆé™¤æ‰€æœ‰å…¼å®¹æ€§éšæ‚£ã€‚</li></ul><p>å¸Œæœ›æˆ‘ä»¬è¿™æ®µå……æ»¡æ›²æŠ˜ä½†æœ€ç»ˆæˆåŠŸçš„æ¢ç´¢ä¹‹æ—…ï¼Œèƒ½ä¸ºå…¶ä»–æœ‰åŒæ ·éœ€æ±‚çš„æŒ‡æŒ¥å®˜ä»¬æä¾›ä¸€ä»½æœ‰ä»·å€¼çš„å‚è€ƒã€‚</p><p>ç¥å¤§å®¶æ­¦è¿æ˜Œéš†ï¼Œå­¦ä¹ è¿›æ­¥ã€‚</p><h2 id=ä¸ƒè‡´è°¢>ä¸ƒã€è‡´è°¢</h2><p>æ„Ÿè°¢ <a class=link href=github.com/nnieie>nnieie</a> é™ªåŒæˆ‘ä¸€èµ·æ”»å…‹éƒ¨ç½²éš¾å…³ï¼Œä½¿ç”¨ 3 å¤©ï¼ŒèŠ±è´¹ 27 å°æ—¶å®Œæˆäº†è¿™æ¬¡åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ ALAS çš„å£®ä¸¾ã€‚</p><p>æ„Ÿè°¢ <a class=link href=https://github.com/blueinsane0727 target=_blank rel=noopener>blueinsane0727</a>ï¼Œå¥¹è¯´è‡´è°¢éšä¾¿å†™ï¼Œé‚£å°±ä¸å†™äº†ã€‚</p><p>æ„Ÿè°¢ç¥ç§˜æ¸¯èˆªæä¾›çš„æ´»åŠ¨å®¤ã€‚</p><p>æ„Ÿè°¢ä¹°ä¸€é€ä¸€çš„é¦™é£˜é£˜ã€‚</p><p>æ„Ÿè°¢ 20-12 çš„ç¾å›¢ä¼˜æƒ åˆ¸ã€‚</p><p><img src=/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/b9a3595985a064eb3fbbac70638a74f6.jpg width=3648 height=2736 srcset="/p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/b9a3595985a064eb3fbbac70638a74f6_hu_f42c44a7f84069c2.jpg 480w, /p/%E6%A0%91%E8%8E%93%E6%B4%BE-5-%E9%83%A8%E7%BD%B2-alas-%E8%BF%90%E8%A1%8C-%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/image/b9a3595985a064eb3fbbac70638a74f6_hu_a2bfa8e123f502d9.jpg 1024w" loading=lazy alt=çƒ§çƒ¤ class=gallery-image data-flex-grow=133 data-flex-basis=320px></p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/>æ ‘è“æ´¾</a>
<a href=/tags/alas/>ALAS</a>
<a href=/tags/%E7%A2%A7%E8%93%9D%E8%88%AA%E7%BA%BF/>ç¢§è“èˆªçº¿</a>
<a href=/tags/%E6%95%99%E7%A8%8B/>æ•™ç¨‹</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/%E7%BE%8E%E8%B5%9B2025%E7%BB%8F%E9%AA%8C%E8%B4%B4%E5%88%86%E4%BA%AB/><div class=article-image><img src=/p/%E7%BE%8E%E8%B5%9B2025%E7%BB%8F%E9%AA%8C%E8%B4%B4%E5%88%86%E4%BA%AB/image.3e28e05f643b30223a015f4ca7eeb524_hu_a44b64383cb8f843.png width=250 height=150 loading=lazy alt="Featured image of post ç¾èµ›2025ç»éªŒè´´åˆ†äº«" data-hash="md5-PijgX2Q7MCI6AV9Mp+61JA=="></div><div class=article-details><h2 class=article-title>ç¾èµ›2025ç»éªŒè´´åˆ†äº«</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=ShaddockNH3/ShaddockNH3.github.io data-repo-id=R_kgDOQAeQ8w data-category=Announcements data-category-id=DIC_kwDOQAeQ884Cw9Cu data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark")}})()</script><footer class=site-footer><section class=copyright>&copy;
2025 -
2026 ShaddockNH3</section><section class=powerby>Made with â¤ï¸ | å®è·µå‡ºçœŸçŸ¥ | [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)<br>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>(function(){const i=window.location.pathname==="/"||window.location.pathname==="/index.html",a=sessionStorage.getItem("splashShown");if(!i||a)return;const e="/splash.png",r=5e3,c=2500,t=new Image;let n=!1,s=!1;const o=setTimeout(function(){n||(s=!0,console.warn("å¼€åœºå›¾ç‰‡åŠ è½½è¶…æ—¶ï¼Œè·³è¿‡å¼€åœºé¡µ"),sessionStorage.setItem("splashShown","true"),document.documentElement.classList.remove("splash-init"))},r);t.onload=function(){if(n=!0,clearTimeout(o),s){console.log("å›¾ç‰‡åŠ è½½å®Œæˆä½†å·²è¶…æ—¶ï¼Œè·³è¿‡å¼€åœºé¡µ");return}sessionStorage.setItem("splashShown","true"),document.documentElement.classList.remove("splash-init"),document.body.classList.add("splash-loading");const t=document.createElement("div");t.id="splash-screen",t.style.setProperty("--splash-bg-image","url("+e+")");const i=document.createElement("div");i.className="splash-content";const a=document.createElement("img");a.id="splash-image",a.src=e,a.alt="Welcome";const r=document.createElement("div");r.className="splash-text";const l=document.createElement("h1");l.className="splash-title",l.textContent="ShaddockNH3";const d=document.createElement("p");d.className="splash-subtitle",d.textContent="æŠ€æœ¯ã€æ–‡å­¦ä¸å“²å­¦çš„äº¤æ±‡ä¹‹åœ°",r.appendChild(l),r.appendChild(d),i.appendChild(a),i.appendChild(r),t.appendChild(i),document.body.insertBefore(t,document.body.firstChild),setTimeout(function(){t.classList.add("fade-out"),document.body.classList.remove("splash-loading"),setTimeout(function(){t.remove()},1e3)},c)},t.onerror=function(){clearTimeout(o),console.error("å¼€åœºå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè·³è¿‡å¼€åœºé¡µ"),sessionStorage.setItem("splashShown","true"),document.documentElement.classList.remove("splash-init")},t.src=e})()</script></body></html>